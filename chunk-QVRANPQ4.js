import{$a as Y,Aa as lt,Ab as ht,Ba as S,Fa as Gn,Ga as ct,Gb as Xn,Ha as P,Hb as Kn,Ia as F,Ib as Yn,J as X,K as rt,Ka as qn,L as it,N as K,Na as dt,Oa as N,P as ot,Pa as B,Qa as ft,Sa as Te,Ta as Re,U as v,Ua as U,V as y,Va as s,W as Bn,Wa as l,X as jn,Xa as $,a as _,aa as Pe,ab as b,b as I,cb as x,d,db as Hn,e as Wi,eb as Q,fa as m,fb as J,ga as at,gb as ke,ha as H,hb as Z,i as Rn,ia as st,ib as c,ja as he,jb as pe,ka as ut,kb as p,l as kn,lb as Un,mb as ee,ob as w,pb as D,q as Fn,qb as $n,sa as Ln,sb as T,ta as f,v as Nn,xb as zn,zb as Wn}from"./chunk-WPFCP6T7.js";var C=d(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});function Mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vo=function t(e,n){Mo(this,t),this.data=e,this.text=n.text||e,this.options=n};Dt.default=Vo});var Er=d(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.CODE39=void 0;var Io=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Po=C(),To=Ro(Po);function Ro(t){return t&&t.__esModule?t:{default:t}}function ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function No(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bo=(function(t){No(e,t);function e(n,r){return ko(this,e),n=n.toUpperCase(),r.mod43&&(n+=Go(qo(n))),Fo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Io(e,[{key:"encode",value:function(){for(var r=At("*"),i=0;i<this.data.length;i++)r+=At(this.data[i])+"0";return r+=At("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e})(To.default),br=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],jo=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function At(t){return Lo(xr(t))}function Lo(t){return jo[t].toString(2)}function Go(t){return br[t]}function xr(t){return br.indexOf(t)}function qo(t){for(var e=0,n=0;n<t.length;n++)e+=xr(t[n]);return e=e%43,e}He.CODE39=Bo});var re=d(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var be;function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wr=h.SET_A=0,Cr=h.SET_B=1,Or=h.SET_C=2,Cf=h.SHIFT=98,Ho=h.START_A=103,Uo=h.START_B=104,$o=h.START_C=105,Of=h.MODULO=103,Sf=h.STOP=106,Df=h.FNC1=207,Af=h.SET_BY_CODE=(be={},Mt(be,Ho,wr),Mt(be,Uo,Cr),Mt(be,$o,Or),be),Mf=h.SWAP={101:wr,100:Cr,99:Or},Vf=h.A_START_CHAR="\xD0",If=h.B_START_CHAR="\xD1",Pf=h.C_START_CHAR="\xD2",Tf=h.A_CHARS="[\0-_\xC8-\xCF]",Rf=h.B_CHARS="[ -\x7F\xC8-\xCF]",kf=h.C_CHARS="(\xCF*[0-9]{2}\xCF*)",Ff=h.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var xe=d(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var zo=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Wo=C(),Xo=Ko(Wo),A=re();function Ko(t){return t&&t.__esModule?t:{default:t}}function Yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zo=(function(t){Jo(e,t);function e(n,r){Yo(this,e);var i=Qo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return zo(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=A.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(A.FNC1);var a=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%A.MODULO)+e.getBar(A.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return A.BARS[r]?A.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===A.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===A.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,u=void 0;if(r[0]>=200){u=r.shift()-105;var g=A.SWAP[u];g!==void 0?a=e.next(r,i+1,g):((o===A.SET_A||o===A.SET_B)&&u===A.SHIFT&&(r[0]=o===A.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=e.next(r,i+1,o))}else u=e.correctIndex(r,o),a=e.next(r,i+1,o);var E=e.getBar(u),q=u*i;return{result:E+a.result,checksum:q+a.checksum}}}]),e})(Xo.default);Vt.default=Zo});var Vr=d(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var j=re(),Sr=function(e){return e.match(new RegExp("^"+j.A_CHARS+"*"))[0].length},Dr=function(e){return e.match(new RegExp("^"+j.B_CHARS+"*"))[0].length},Ar=function(e){return e.match(new RegExp("^"+j.C_CHARS+"*"))[0]};function It(t,e){var n=e?j.A_CHARS:j.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"\xCC"+Mr(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+It(t.substring(i.length),!e)}function Mr(t){var e=Ar(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=Sr(t)>=Dr(t);return e+String.fromCharCode(r?206:205)+It(t,r)}Pt.default=function(t){var e=void 0,n=Ar(t).length;if(n>=2)e=j.C_START_CHAR+Mr(t);else{var r=Sr(t)>Dr(t);e=(r?j.A_START_CHAR:j.B_START_CHAR)+It(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Pr=d(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var ea=xe(),ta=Ir(ea),na=Vr(),ra=Ir(na);function Ir(t){return t&&t.__esModule?t:{default:t}}function ia(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aa=(function(t){oa(e,t);function e(n,r){if(ia(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Tt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,ra.default)(n),r));else var i=Tt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Tt(i)}return e})(ta.default);Rt.default=aa});var Rr=d(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var sa=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),ua=xe(),la=ca(ua),Tr=re();function ca(t){return t&&t.__esModule?t:{default:t}}function da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ha(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pa=(function(t){ha(e,t);function e(n,r){return da(this,e),fa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Tr.A_START_CHAR+n,r))}return sa(e,[{key:"valid",value:function(){return new RegExp("^"+Tr.A_CHARS+"+$").test(this.data)}}]),e})(la.default);kt.default=pa});var Fr=d(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var ma=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),ga=xe(),_a=va(ga),kr=re();function va(t){return t&&t.__esModule?t:{default:t}}function ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ba(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ea=(function(t){xa(e,t);function e(n,r){return ya(this,e),ba(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,kr.B_START_CHAR+n,r))}return ma(e,[{key:"valid",value:function(){return new RegExp("^"+kr.B_CHARS+"+$").test(this.data)}}]),e})(_a.default);Ft.default=Ea});var Br=d(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var wa=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Ca=xe(),Oa=Sa(Ca),Nr=re();function Sa(t){return t&&t.__esModule?t:{default:t}}function Da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ma(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Va=(function(t){Ma(e,t);function e(n,r){return Da(this,e),Aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Nr.C_START_CHAR+n,r))}return wa(e,[{key:"valid",value:function(){return new RegExp("^"+Nr.C_CHARS+"+$").test(this.data)}}]),e})(Oa.default);Nt.default=Va});var jr=d(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.CODE128C=R.CODE128B=R.CODE128A=R.CODE128=void 0;var Ia=Pr(),Pa=Ue(Ia),Ta=Rr(),Ra=Ue(Ta),ka=Fr(),Fa=Ue(ka),Na=Br(),Ba=Ue(Na);function Ue(t){return t&&t.__esModule?t:{default:t}}R.CODE128=Pa.default;R.CODE128A=Ra.default;R.CODE128B=Fa.default;R.CODE128C=Ba.default});var ie=d(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var $f=L.SIDE_BIN="101",zf=L.MIDDLE_BIN="01010",Wf=L.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Xf=L.EAN2_STRUCTURE=["LL","LG","GL","GG"],Kf=L.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Yf=L.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var oe=d(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var ja=ie(),La=function(e,n,r){var i=e.split("").map(function(a,u){return ja.BINARIES[n[u]]}).map(function(a,u){return a?a[e[u]]:""});if(r){var o=e.length-1;i=i.map(function(a,u){return u<o?a+r:a})}return i.join("")};Bt.default=La});var Lt=d(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});var Ga=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),ae=ie(),qa=oe(),Lr=Gr(qa),Ha=C(),Ua=Gr(Ha);function Gr(t){return t&&t.__esModule?t:{default:t}}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function za(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xa=(function(t){Wa(e,t);function e(n,r){$a(this,e);var i=za(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ga(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,Lr.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,Lr.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:ae.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:ae.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:ae.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[ae.SIDE_BIN,this.leftEncode(),ae.MIDDLE_BIN,this.rightEncode(),ae.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e})(Ua.default);jt.default=Xa});var Hr=d(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Ka=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Ee=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},Ya=ie(),Qa=Lt(),Ja=Za(Qa);function Za(t){return t&&t.__esModule?t:{default:t}}function es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ns(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qr=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-n%10)%10},rs=(function(t){ns(e,t);function e(n,r){es(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=qr(n));var i=ts(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return Ka(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===qr(this.data)}},{key:"leftText",value:function(){return Ee(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Ya.EAN13_STRUCTURE[this.data[0]];return Ee(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Ee(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Ee(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Ee(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e})(Ja.default);Gt.default=rs});var $r=d(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});var is=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),$e=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},os=Lt(),as=ss(os);function ss(t){return t&&t.__esModule?t:{default:t}}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ur=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-n%10)%10},ds=(function(t){cs(e,t);function e(n,r){return us(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Ur(n)),ls(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return is(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Ur(this.data)}},{key:"leftText",value:function(){return $e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return $e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return $e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return $e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e})(as.default);qt.default=ds});var Wr=d(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var fs=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),hs=ie(),ps=oe(),ms=zr(ps),gs=C(),_s=zr(gs);function zr(t){return t&&t.__esModule?t:{default:t}}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ys(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xs=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return n%10},Es=(function(t){bs(e,t);function e(n,r){return vs(this,e),ys(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return fs(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=hs.EAN5_STRUCTURE[xs(this.data)];return{data:"1011"+(0,ms.default)(this.data,r,"01"),text:this.text}}}]),e})(_s.default);Ht.default=Es});var Kr=d(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var ws=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Cs=ie(),Os=oe(),Ss=Xr(Os),Ds=C(),As=Xr(Ds);function Xr(t){return t&&t.__esModule?t:{default:t}}function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Is(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ps=(function(t){Is(e,t);function e(n,r){return Ms(this,e),Vs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ws(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=Cs.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Ss.default)(this.data,r,"01"),text:this.text}}}]),e})(As.default);Ut.default=Ps});var zt=d(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var Ts=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();ze.checksum=$t;var Rs=oe(),se=Yr(Rs),ks=C(),Fs=Yr(ks);function Yr(t){return t&&t.__esModule?t:{default:t}}function Ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function js(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ls=(function(t){js(e,t);function e(n,r){Ns(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=$t(n));var i=Bs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ts(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==$t(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,se.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,se.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,se.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,se.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,se.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,se.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e})(Fs.default);function $t(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}ze.default=Ls});var Zr=d(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var Gs=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),qs=oe(),Hs=Jr(qs),Us=C(),$s=Jr(Us),zs=zt();function Jr(t){return t&&t.__esModule?t:{default:t}}function Ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ks=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Ys=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Qs=(function(t){Xs(e,t);function e(n,r){Ws(this,e);var i=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=Qr(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=Qr(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Wt(i);else return Wt(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Gs(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=Ys[parseInt(i)][parseInt(r)];return(0,Hs.default)(this.middleDigits,o)}}]),e})($s.default);function Qr(t,e){for(var n=parseInt(t[t.length-1]),r=Ks[n],i="",o=0,a=0;a<r.length;a++){var u=r[a];u==="X"?i+=t[o++]:i+=u}return i=""+e+i,""+i+(0,zs.checksum)(i)}Xt.default=Qs});var ei=d(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.UPCE=O.UPC=O.EAN2=O.EAN5=O.EAN8=O.EAN13=void 0;var Js=Hr(),Zs=ue(Js),eu=$r(),tu=ue(eu),nu=Wr(),ru=ue(nu),iu=Kr(),ou=ue(iu),au=zt(),su=ue(au),uu=Zr(),lu=ue(uu);function ue(t){return t&&t.__esModule?t:{default:t}}O.EAN13=Zs.default;O.EAN8=tu.default;O.EAN5=ru.default;O.EAN2=ou.default;O.UPC=su.default;O.UPCE=lu.default});var ti=d(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var sh=we.START_BIN="1010",uh=we.END_BIN="11101",lh=we.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var Yt=d(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});var cu=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),We=ti(),du=C(),fu=hu(du);function hu(t){return t&&t.__esModule?t:{default:t}}function pu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _u=(function(t){gu(e,t);function e(){return pu(this,e),mu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return cu(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:We.START_BIN+i+We.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=We.BINARIES[r[1]];return We.BINARIES[r[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),e})(fu.default);Kt.default=_u});var ri=d(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var vu=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),yu=Yt(),bu=xu(yu);function xu(t){return t&&t.__esModule?t:{default:t}}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ni=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},Ou=(function(t){Cu(e,t);function e(n,r){return Eu(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=ni(n)),wu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return vu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===ni(this.data)}}]),e})(bu.default);Qt.default=Ou});var oi=d(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.ITF14=le.ITF=void 0;var Su=Yt(),Du=ii(Su),Au=ri(),Mu=ii(Au);function ii(t){return t&&t.__esModule?t:{default:t}}le.ITF=Du.default;le.ITF14=Mu.default});var ce=d(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Vu=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Iu=C(),Pu=Tu(Iu);function Tu(t){return t&&t.__esModule?t:{default:t}}function Ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ku(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nu=(function(t){Fu(e,t);function e(n,r){return Ru(this,e),ku(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Vu(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=Bu(a,4-a.length);for(var u=0;u<a.length;u++)r+=a[u]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e})(Pu.default);function Bu(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Jt.default=Nu});var Ce=d(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.mod10=ju;Xe.mod11=Lu;function ju(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function Lu(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}});var ai=d(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var Gu=ce(),qu=Uu(Gu),Hu=Ce();function Uu(t){return t&&t.__esModule?t:{default:t}}function $u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xu=(function(t){Wu(e,t);function e(n,r){return $u(this,e),zu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Hu.mod10)(n),r))}return e})(qu.default);Zt.default=Xu});var si=d(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var Ku=ce(),Yu=Ju(Ku),Qu=Ce();function Ju(t){return t&&t.__esModule?t:{default:t}}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nl=(function(t){tl(e,t);function e(n,r){return Zu(this,e),el(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Qu.mod11)(n),r))}return e})(Yu.default);en.default=nl});var li=d(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var rl=ce(),il=ol(rl),ui=Ce();function ol(t){return t&&t.__esModule?t:{default:t}}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ul(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ll=(function(t){ul(e,t);function e(n,r){return al(this,e),n+=(0,ui.mod10)(n),n+=(0,ui.mod10)(n),sl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e})(il.default);tn.default=ll});var di=d(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var cl=ce(),dl=fl(cl),ci=Ce();function fl(t){return t&&t.__esModule?t:{default:t}}function hl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ml(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gl=(function(t){ml(e,t);function e(n,r){return hl(this,e),n+=(0,ci.mod11)(n),n+=(0,ci.mod10)(n),pl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e})(dl.default);nn.default=gl});var fi=d(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.MSI1110=M.MSI1010=M.MSI11=M.MSI10=M.MSI=void 0;var _l=ce(),vl=Oe(_l),yl=ai(),bl=Oe(yl),xl=si(),El=Oe(xl),wl=li(),Cl=Oe(wl),Ol=di(),Sl=Oe(Ol);function Oe(t){return t&&t.__esModule?t:{default:t}}M.MSI=vl.default;M.MSI10=bl.default;M.MSI11=El.default;M.MSI1010=Cl.default;M.MSI1110=Sl.default});var hi=d(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.pharmacode=void 0;var Dl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Al=C(),Ml=Vl(Al);function Vl(t){return t&&t.__esModule?t:{default:t}}function Il(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rl=(function(t){Tl(e,t);function e(n,r){Il(this,e);var i=Pl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return Dl(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e})(Ml.default);Ke.pharmacode=Rl});var pi=d(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.codabar=void 0;var kl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Fl=C(),Nl=Bl(Fl);function Bl(t){return t&&t.__esModule?t:{default:t}}function jl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ll(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ql=(function(t){Gl(e,t);function e(n,r){jl(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return kl(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e})(Nl.default);Ye.codabar=ql});var mi=d(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var wh=Se.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],Ch=Se.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Oh=Se.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var on=d(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var Hl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Qe=mi(),Ul=C(),$l=zl(Ul);function zl(t){return t&&t.__esModule?t:{default:t}}function Wl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yl=(function(t){Kl(e,t);function e(n,r){return Wl(this,e),Xl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Hl(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(u){return Qe.MULTI_SYMBOLS[u]||u}),i=r.map(function(u){return e.getEncoding(u)}).join(""),o=e.checksum(r,20),a=e.checksum(r.concat(o),15);return{text:this.text,data:e.getEncoding("\xFF")+i+e.getEncoding(o)+e.getEncoding(a)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(r){return Qe.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Qe.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Qe.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var o=r.slice().reverse().reduce(function(a,u,g){var E=g%i+1;return a+e.symbolValue(u)*E},0);return e.getSymbol(o%47)}}]),e})($l.default);rn.default=Yl});var gi=d(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var Ql=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Jl=on(),Zl=ec(Jl);function ec(t){return t&&t.__esModule?t:{default:t}}function tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ic=(function(t){rc(e,t);function e(n,r){return tc(this,e),nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Ql(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e})(Zl.default);an.default=ic});var vi=d(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.CODE93FullASCII=de.CODE93=void 0;var oc=on(),ac=_i(oc),sc=gi(),uc=_i(sc);function _i(t){return t&&t.__esModule?t:{default:t}}de.CODE93=ac.default;de.CODE93FullASCII=uc.default});var yi=d(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.GenericBarcode=void 0;var lc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),cc=C(),dc=fc(cc);function fc(t){return t&&t.__esModule?t:{default:t}}function hc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gc=(function(t){mc(e,t);function e(n,r){return hc(this,e),pc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return lc(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e})(dc.default);Je.GenericBarcode=gc});var Ei=d(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var _c=Er(),Ze=jr(),fe=ei(),bi=oi(),De=fi(),vc=hi(),yc=pi(),xi=vi(),bc=yi();sn.default={CODE39:_c.CODE39,CODE128:Ze.CODE128,CODE128A:Ze.CODE128A,CODE128B:Ze.CODE128B,CODE128C:Ze.CODE128C,EAN13:fe.EAN13,EAN8:fe.EAN8,EAN5:fe.EAN5,EAN2:fe.EAN2,UPC:fe.UPC,UPCE:fe.UPCE,ITF14:bi.ITF14,ITF:bi.ITF,MSI:De.MSI,MSI10:De.MSI10,MSI11:De.MSI11,MSI1010:De.MSI1010,MSI1110:De.MSI1110,pharmacode:vc.pharmacode,codabar:yc.codabar,CODE93:xi.CODE93,CODE93FullASCII:xi.CODE93FullASCII,GenericBarcode:bc.GenericBarcode}});var Ae=d(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var xc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};un.default=function(t,e){return xc({},t,e)}});var wi=d(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.default=Ec;function Ec(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}});var Ci=d(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.default=wc;function wc(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var fn=d(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.default=Cc;function Cc(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var pn=d(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});var Oc={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};hn.default=Oc});var Di=d(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var Sc=fn(),Dc=Si(Sc),Ac=pn(),Oi=Si(Ac);function Si(t){return t&&t.__esModule?t:{default:t}}function Mc(t){var e={};for(var n in Oi.default)Oi.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Dc.default)(e),e}mn.default=Mc});var gn=d(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.getTotalWidthOfEncodings=V.calculateEncodingAttributes=V.getBarcodePadding=V.getEncodingHeight=V.getMaximumHeightOfEncodings=void 0;var Vc=Ae(),Ic=Pc(Vc);function Pc(t){return t&&t.__esModule?t:{default:t}}function Ai(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Mi(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function Tc(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=(0,Ic.default)(e,i.options),a;o.displayValue?a=Fc(i.text,o,n):a=0;var u=i.data.length*o.width;i.width=Math.ceil(Math.max(a,u)),i.height=Ai(i,o),i.barcodePadding=Mi(a,u,o)}}function Rc(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function kc(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function Fc(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var o=i.width;return o}V.getMaximumHeightOfEncodings=kc;V.getEncodingHeight=Ai;V.getBarcodePadding=Mi;V.calculateEncodingAttributes=Tc;V.getTotalWidthOfEncodings=Rc});var Vi=d(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var Nc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Bc=Ae(),jc=Lc(Bc),_n=gn();function Lc(t){return t&&t.__esModule?t:{default:t}}function Gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qc=(function(){function t(e,n,r){Gc(this,t),this.canvas=e,this.encodings=n,this.options=r}return Nc(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,jc.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,_n.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,_n.getTotalWidthOfEncodings)(this.encodings),i=(0,_n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),o=r.data,a;n.textPosition=="top"?a=n.marginTop+n.fontSize+n.textMargin:a=n.marginTop,i.fillStyle=n.lineColor;for(var u=0;u<o.length;u++){var g=u*n.width+r.barcodePadding;o[u]==="1"?i.fillRect(g,a,n.width,n.height):o[u]&&i.fillRect(g,a,n.width,n.height*o[u])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),o=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var a,u;n.textPosition=="top"?u=n.marginTop+n.fontSize-n.textMargin:u=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=o,n.textAlign=="left"||r.barcodePadding>0?(a=0,i.textAlign="left"):n.textAlign=="right"?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,u)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t})();vn.default=qc});var Ii=d(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var Hc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Uc=Ae(),$c=zc(Uc),yn=gn();function zc(t){return t&&t.__esModule?t:{default:t}}function Wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var et="http://www.w3.org/2000/svg",Xc=(function(){function t(e,n,r){Wc(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return Hc(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,$c.default)(this.options,i.options),a=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,yn.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,yn.getTotalWidthOfEncodings)(this.encodings),r=(0,yn.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(n,r,i){var o=i.data,a;r.textPosition=="top"?a=r.fontSize+r.textMargin:a=0;for(var u=0,g=0,E=0;E<o.length;E++)g=E*r.width+i.barcodePadding,o[E]==="1"?u++:u>0&&(this.drawRect(g-r.width*u,a,r.width*u,r.height,n),u=0);u>0&&this.drawRect(g-r.width*(u-1),a,r.width*u,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var o=this.document.createElementNS(et,"text");if(r.displayValue){var a,u;o.setAttribute("font-family",r.font),o.setAttribute("font-size",r.fontSize),r.fontOptions.includes("bold")&&o.setAttribute("font-weight","bold"),r.fontOptions.includes("italic")&&o.setAttribute("font-style","italic"),r.textPosition=="top"?u=r.fontSize-r.textMargin:u=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",u),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",et),i.setAttribute("version","1.1")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(et,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("fill",r.lineColor)}},{key:"drawRect",value:function(n,r,i,o,a){var u=this.document.createElementNS(et,"rect");return u.setAttribute("x",n),u.setAttribute("y",r),u.setAttribute("width",i),u.setAttribute("height",o),a.appendChild(u),u}}]),t})();bn.default=Xc});var Pi=d(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Kc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function Yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Qc=(function(){function t(e,n,r){Yc(this,t),this.object=e,this.encodings=n,this.options=r}return Kc(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t})();xn.default=Qc});var Ti=d(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var Jc=Vi(),Zc=En(Jc),ed=Ii(),td=En(ed),nd=Pi(),rd=En(nd);function En(t){return t&&t.__esModule?t:{default:t}}wn.default={CanvasRenderer:Zc.default,SVGRenderer:td.default,ObjectRenderer:rd.default}});var Dn=d(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function On(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var id=(function(t){Sn(e,t);function e(n,r){Cn(this,e);var i=On(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e})(Error),od=(function(t){Sn(e,t);function e(){Cn(this,e);var n=On(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e})(Error),ad=(function(t){Sn(e,t);function e(){Cn(this,e);var n=On(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e})(Error);Me.InvalidInputException=id;Me.InvalidElementException=od;Me.NoElementException=ad});var ki=d(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud=Di(),An=Ri(ud),ld=Ti(),Ve=Ri(ld),cd=Dn();function Ri(t){return t&&t.__esModule?t:{default:t}}function Mn(t){if(typeof t=="string")return dd(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(Mn(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return fd(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,An.default)(t),renderer:Ve.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,An.default)(t),renderer:Ve.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Ve.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":sd(t))==="object"&&!t.nodeName)return{element:t,renderer:Ve.default.ObjectRenderer};throw new cd.InvalidElementException}}function dd(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(Mn(e[r]));return n}}function fd(t){var e=document.createElement("canvas");return{element:e,options:(0,An.default)(t),renderer:Ve.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Vn.default=Mn});var Fi=d(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var hd=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function pd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var md=(function(){function t(e){pd(this,t),this.api=e}return hd(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t})();In.default=md});var Ui=d((zh,Hi)=>{"use strict";var gd=Ei(),W=G(gd),_d=Ae(),Ie=G(_d),vd=wi(),Bi=G(vd),yd=Ci(),Ni=G(yd),bd=ki(),xd=G(bd),Ed=fn(),wd=G(Ed),Cd=Fi(),Od=G(Cd),ji=Dn(),Sd=pn(),Li=G(Sd);function G(t){return t&&t.__esModule?t:{default:t}}var k=function(){},tt=function(e,n,r){var i=new k;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,xd.default)(e),i._encodings=[],i._options=Li.default,i._errorHandler=new Od.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=qi()),i.options(r)[r.format](n,r).render()),i};tt.getModule=function(t){return W.default[t]};for(Pn in W.default)W.default.hasOwnProperty(Pn)&&Dd(W.default,Pn);var Pn;function Dd(t,e){k.prototype[e]=k.prototype[e.toUpperCase()]=k.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,Ie.default)(i._options,r);o=(0,wd.default)(o);var a=t[e],u=Gi(n,a,o);return i._encodings.push(u),i})}}function Gi(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new ji.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,Bi.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,Ie.default)(n,i[o].options);return i}function qi(){return W.default.CODE128?"CODE128":Object.keys(W.default)[0]}k.prototype.options=function(t){return this._options=(0,Ie.default)(this._options,t),this};k.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};k.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Ie.default)(this._options,t.options);n.format=="auto"&&(n.format=qi()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=W.default[n.format.toUpperCase()],o=Gi(r,i,n);Tn(t,o,n)})}}};k.prototype.render=function(){if(!this._renderProperties)throw new ji.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Tn(this._renderProperties[t],this._encodings,this._options);else Tn(this._renderProperties,this._encodings,this._options);return this};k.prototype._defaults=Li.default;function Tn(t,e,n){e=(0,Bi.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Ie.default)(n,e[r].options),(0,Ni.default)(e[r].options);(0,Ni.default)(n);var i=t.renderer,o=new i(t.element,e,n);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=tt);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),tt(n,t,e)});Hi.exports=tt});var or=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(S(lt),S(ut))};static \u0275dir=P({type:t})}return t})(),ar=(()=>{class t extends or{static \u0275fac=(()=>{let n;return function(i){return(n||(n=he(t)))(i||t)}})();static \u0275dir=P({type:t,features:[F]})}return t})(),bt=new K("");var Xi={provide:bt,useExisting:X(()=>Le),multi:!0};function Ki(){let t=ht()?ht().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Yi=new K(""),Le=(()=>{class t extends or{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Ki())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(S(lt),S(ut),S(Yi,8))};static \u0275dir=P({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&b("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[ee([Xi]),F]})}return t})();function Qi(t){return t==null||sr(t)===0}function sr(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var xt=new K(""),Ji=new K("");function Zi(t){return e=>{let n=e.value?.length??sr(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function eo(t){if(!t)return pt;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Qi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function pt(t){return null}function ur(t){return t!=null}function lr(t){return qn(t)?kn(t):t}function cr(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function dr(t,e){return e.map(n=>n(t))}function to(t){return!t.validate}function fr(t){return t.map(e=>to(e)?e:n=>e.validate(n))}function no(t){if(!t)return null;let e=t.filter(ur);return e.length==0?null:function(n){return cr(dr(n,e))}}function hr(t){return t!=null?no(fr(t)):null}function ro(t){if(!t)return null;let e=t.filter(ur);return e.length==0?null:function(n){let r=dr(n,e).map(lr);return Nn(r).pipe(Fn(cr))}}function pr(t){return t!=null?ro(fr(t)):null}function Qn(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function io(t){return t._rawValidators}function oo(t){return t._rawAsyncValidators}function mt(t){return t?Array.isArray(t)?t:[t]:[]}function Ne(t,e){return Array.isArray(t)?t.includes(e):t===e}function Jn(t,e){let n=mt(e);return mt(t).forEach(i=>{Ne(n,i)||n.push(i)}),n}function Zn(t,e){return mt(e).filter(n=>!Ne(t,n))}var Be=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control?.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},gt=class extends Be{name;get formDirective(){return null}get path(){return null}},ye=class extends Be{_parent=null;name=null;valueAccessor=null},_t=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var mr=(()=>{class t extends _t{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(S(ye,2))};static \u0275dir=P({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Z("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[F]})}return t})();var me="VALID",Fe="INVALID",te="PENDING",ge="DISABLED",z=class{},je=class extends z{value;source;constructor(e,n){super(),this.value=e,this.source=n}},_e=class extends z{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ve=class extends z{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ne=class extends z{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var vt=class extends z{source;constructor(e){super(),this.source=e}};function ao(t){return(Ge(t)?t.validators:t)||null}function so(t){return Array.isArray(t)?hr(t):t||null}function uo(t,e){return(Ge(e)?e.asyncValidators:t)||null}function lo(t){return Array.isArray(t)?pr(t):t||null}function Ge(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var yt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return H(this.statusReactive)}set status(e){H(()=>this.statusReactive.set(e))}_status=T(()=>this.statusReactive());statusReactive=m(void 0);get valid(){return this.status===me}get invalid(){return this.status===Fe}get pending(){return this.status==te}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}errors;get pristine(){return H(this.pristineReactive)}set pristine(e){H(()=>this.pristineReactive.set(e))}_pristine=T(()=>this.pristineReactive());pristineReactive=m(!0);get dirty(){return!this.pristine}get touched(){return H(this.touchedReactive)}set touched(e){H(()=>this.touchedReactive.set(e))}_touched=T(()=>this.touchedReactive());touchedReactive=m(!1);get untouched(){return!this.touched}_events=new Rn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zn(e,this._rawAsyncValidators))}hasValidator(e){return Ne(this._rawValidators,e)}hasAsyncValidator(e){return Ne(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;e.onlySelf||this._parent?.markAsTouched(I(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ve(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),e.onlySelf||this._parent?._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ve(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;e.onlySelf||this._parent?.markAsDirty(I(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _e(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),e.onlySelf||this._parent?._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new _e(!0,r))}markAsPending(e={}){this.status=te;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ne(this.status,n)),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.markAsPending(I(_({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ge,this.errors=null,this._forEachChild(i=>{i.disable(I(_({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new je(this.value,r)),this._events.next(new ne(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=me,this._forEachChild(r=>{r.enable(I(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(I(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){e.onlySelf||(this._parent?.updateValueAndValidity(e),e.skipPristineCheck||this._parent?._updatePristine({},n),this._parent?._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===me||this.status===te)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new je(this.value,n)),this._events.next(new ne(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.updateValueAndValidity(I(_({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:me}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=lr(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r?.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ne(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?Fe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(Fe)?Fe:me}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,e.onlySelf||this._parent?._updatePristine(e,n),i&&this._events.next(new _e(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ve(this.touched,n)),e.onlySelf||this._parent?._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ge(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=so(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lo(this._rawAsyncValidators)}};var gr=new K("",{factory:()=>Et}),Et="always";function co(t,e){return[...e.path,t]}function fo(t,e,n=Et){po(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mo(t,e),_o(t,e),go(t,e),ho(t,e)}function er(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ho(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function po(t,e){let n=io(t);e.validator!==null?t.setValidators(Qn(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oo(t);e.asyncValidator!==null?t.setAsyncValidators(Qn(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();er(e._rawValidators,i),er(e._rawAsyncValidators,i)}function mo(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&_r(t,e)})}function go(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&_r(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function _r(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _o(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function vo(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function yo(t){return Object.getPrototypeOf(t.constructor)===ar}function bo(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Le?n=o:yo(o)?r=o:i=o}),i||r||n||null}function tr(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nr(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var xo=class extends yt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(ao(n),uo(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ge(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nr(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new vt(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tr(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tr(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nr(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Eo={provide:ye,useExisting:X(()=>wt)},rr=Promise.resolve(),wt=(()=>{class t extends ye{_changeDetectorRef;callSetDisabledState;control=new xo;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pe;constructor(n,r,i,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bo(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),vo(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){rr.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Wn(r);rr.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?co(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(S(gt,9),S(xt,10),S(Ji,10),S(bt,10),S(zn,8),S(gr,8))};static \u0275dir=P({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ee([Eo]),F,st]})}return t})();var wo={provide:bt,useExisting:X(()=>Ct),multi:!0},Ct=(()=>{class t extends ar{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=he(t)))(i||t)}})();static \u0275dir=P({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&b("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ee([wo]),F]})}return t})();function Co(t){return typeof t=="number"?t:parseInt(t,10)}var vr=(()=>{class t{_validator=pt;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pt,this._onChange?.()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=P({type:t,features:[st]})}return t})();var Oo={provide:xt,useExisting:X(()=>Ot),multi:!0},Ot=(()=>{class t extends vr{maxlength;inputName="maxlength";normalizeInput=n=>Co(n);createValidator=n=>Zi(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=he(t)))(i||t)}})();static \u0275dir=P({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&dt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ee([Oo]),F]})}return t})(),So={provide:xt,useExisting:X(()=>St),multi:!0},St=(()=>{class t extends vr{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>eo(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=he(t)))(i||t)}})();static \u0275dir=P({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&dt("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[ee([So]),F]})}return t})();var Do=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=it({})}return t})();var yr=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:gr,useValue:n.callSetDisabledState??Et}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=it({imports:[Do]})}return t})();var qe=class t{STORAGE_KEY="santi_pos_catalog";_products=[{code:"100",name:"Trutro de Pollo",pricePerKg:2990,category:"POLLO"},{code:"101",name:"Alitas de Pollo",pricePerKg:3590,category:"POLLO"},{code:"102",name:"Patitas de Pollo",pricePerKg:1500,category:"POLLO"},{code:"103",name:"Trutro Cuarto",pricePerKg:2490,category:"POLLO"},{code:"104",name:"Pechuga Deshuesada",pricePerKg:4990,category:"POLLO"},{code:"105",name:"Panita de Pollo",pricePerKg:1890,category:"POLLO"},{code:"200",name:"Posta Paleta",pricePerKg:8990,category:"VACUNO"},{code:"201",name:"Punta de Ganso",pricePerKg:12990,category:"VACUNO"},{code:"202",name:"Entrecot",pricePerKg:14990,category:"VACUNO"},{code:"203",name:"Costilla Centro",pricePerKg:9990,category:"VACUNO"},{code:"300",name:"Chuleta Centro",pricePerKg:4990,category:"CERDO"},{code:"301",name:"Chuleta Vetada",pricePerKg:5490,category:"CERDO"},{code:"302",name:"Pulpa de Cerdo",pricePerKg:4690,category:"CERDO"},{code:"400",name:"Longaniza Chill\xE1n",pricePerKg:7990,category:"EMBUTIDOS"},{code:"401",name:"Longaniza Oma Wurtz",pricePerKg:8990,category:"EMBUTIDOS"},{code:"402",name:"Vienesas Pacel",pricePerKg:3200,category:"EMBUTIDOS"}];productsSignal=m(this._products);products=this.productsSignal.asReadonly();isLoading=m(!1);constructor(){this.loadFromStorage(),this.fetchProductsFromApi()}getProductByCode(e){let n=e.toString().trim();return this.productsSignal().find(r=>r.code.toString()===n)}updatePrice(e,n,r){let i=this.productsSignal(),o=i.findIndex(q=>q.code===e);if(o===-1)return null;let a=i[o],u=a.pricePerKg;if(u===n)return null;let g={productId:e,oldPrice:u,newPrice:n,operatorId:r,timestamp:new Date().toISOString()},E=[...i];return E[o]=I(_({},a),{pricePerKg:n}),this.productsSignal.set(E),this.saveToStorage(E),console.log("[AUDIT] Precio actualizado:",g),g}loadFromStorage(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{this.productsSignal.set(JSON.parse(e))}catch(n){console.error("Error leyendo cach\xE9 local",n)}}saveToStorage(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}fetchProductsFromApi(){this.isLoading.set(!0),setTimeout(()=>{let e=this._products;this.productsSignal.set(e),this.saveToStorage(e),this.isLoading.set(!1)},1e3)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=rt({token:t,factory:t.\u0275fac,providedIn:"root"})};var zi=Wi(Ui());var Ad=["confirmBtn"],Md=["paymentInput"],Vd=["codeInput"],Id=["weightInput"],Pd=["saleRow"],Td=(t,e)=>e.id;function Rd(t,e){t&1&&$(0,"div",39)}function kd(t,e){if(t&1){let n=Y();s(0,"div",38),b("click",function(){let i=v(n).$index,o=x();return y(o.activateSaleIndex(i))}),N(1,Rd,1,0,"div",39),s(2,"div",40)(3,"h3",41),c(4),l(),s(5,"div",42)(6,"span",43),c(7,"$"),l(),c(8),w(9,"number"),l()()()}if(t&2){let n=e.$implicit,r=e.$index,i=x();Z("border-blue-500",i.activeSaleIndex()===r)("bg-slate-800",i.activeSaleIndex()===r)("text-white",i.activeSaleIndex()===r)("border-transparent",i.activeSaleIndex()!==r)("bg-slate-900",i.activeSaleIndex()!==r)("text-slate-500",i.activeSaleIndex()!==r)("opacity-60",i.activeSaleIndex()!==r),f(),B(i.activeSaleIndex()===r?1:-1),f(3),p("T.",r+1),f(4),p("",D(9,17,n.total)," ")}}function Fd(t,e){if(t&1&&(s(0,"div",44),c(1),l(),s(2,"div",45),c(3),w(4,"number"),l()),t&2){let n,r,i=x();f(),p(" ",(n=i.foundProduct())==null?null:n.name," "),f(2),p(" $ ",D(4,2,(r=i.foundProduct())==null?null:r.pricePerKg)," / Kg ")}}function Nd(t,e){t&1&&(s(0,"div",14)(1,"span",46),c(2,"_"),l(),c(3," Ingrese item... "),l())}function Bd(t,e){if(t&1){let n=Y();s(0,"tr",47,2),b("keydown",function(i){let o=v(n).$index,a=x();return y(a.onRowKeydown(i,o))}),s(2,"td",48),c(3),l(),s(4,"td",49),c(5),l(),s(6,"td",50),c(7),w(8,"number"),l()()}if(t&2){let n=e.$implicit;f(3),p(" ",n.product.name," "),f(2),p(" ",n.weight,"g "),f(2),p(" $ ",D(8,3,n.total)," ")}}function jd(t,e){t&1&&(s(0,"div",25)(1,"span",51),c(2,"LISTA VAC\xCDA"),l()())}function Ld(t,e){if(t&1){let n=Y();s(0,"div",35)(1,"div",52),$(2,"div",53),s(3,"h2",54),c(4,"\xBFBORRAR ITEM?"),l(),s(5,"div",55)(6,"div",56),c(7),l(),s(8,"div",57)(9,"span"),c(10),l(),s(11,"span",58),c(12),w(13,"number"),l()()(),s(14,"div",59)(15,"button",60,3),b("click",function(){v(n);let i=x();return y(i.confirmDelete())})("keydown.enter",function(){v(n);let i=x();return y(i.confirmDelete())}),s(17,"span",61),c(18,"Confirmar (ENTER)"),l()(),s(19,"button",62),b("click",function(){v(n);let i=x();return y(i.cancelDelete())}),s(20,"span",61),c(21,"Cancelar ( + )"),l()()()()()}if(t&2){let n=x(),r=n.sales()[n.activeSaleIndex()].items[n.itemIndexToDelete()];f(7),pe(r.product.name),f(3),p("",r.weight,"g"),f(2),p("$",D(13,3,r.total))}}function Gd(t,e){t&1&&(s(0,"span",77),c(1,"Vuelto / Cambio"),l())}function qd(t,e){t&1&&(s(0,"span",77),c(1,"Por pagar (Tarjeta)"),l())}function Hd(t,e){if(t&1){let n=Y();s(0,"div",36)(1,"div",63),$(2,"div",64),s(3,"div",65)(4,"h2",66),c(5,"CERRAR VENTA"),l(),s(6,"div",67)(7,"span",68),c(8,"Total a Pagar"),l(),s(9,"span",69),c(10),w(11,"number"),l()(),s(12,"div",70)(13,"label",71),c(14,"Efectivo Recibido"),l(),s(15,"div",72)(16,"span",73),c(17,"$"),l(),s(18,"input",74,4),b("input",function(){v(n);let i=ke(19),o=x();return y(o.updatePayment(i.value))})("keydown.enter",function(){v(n);let i=x();return y(i.finalizeSale())}),l()()()(),s(20,"div",75)(21,"div",76),N(22,Gd,2,0,"span",77)(23,qd,2,0,"span",77),s(24,"span",78),c(25),w(26,"number"),l()(),s(27,"div",79)(28,"button",80),b("click",function(){v(n);let i=x();return y(i.finalizeSale())}),s(29,"span",81),c(30,"ENTER"),l(),s(31,"div",82)(32,"div",83),c(33,"Imprimir Ticket"),l(),s(34,"div",84),c(35,"Pago Mixto"),l()()(),s(36,"button",80),b("click",function(){v(n);let i=x();return y(i.finalizeSale())}),s(37,"span",85),c(38,"ENTER"),l(),s(39,"div",86),c(40,"Confirmar Pago"),l()(),s(41,"button",87),b("click",function(){v(n);let i=x();return y(i.closeCheckout())}),s(42,"span",88),c(43,"Cancelar ( + )"),l()()()()()()}if(t&2){let n=x();f(10),p("$ ",D(11,20,n.sales()[n.activeSaleIndex()].total)),f(8),U("ngModel",n.paymentCashInput()),f(3),Z("bg-red-900/20",n.changeAmount()<0)("border-red-800",n.changeAmount()<0)("bg-emerald-900/20",n.changeAmount()>=0)("border-emerald-800",n.changeAmount()>=0),f(),B(n.paymentCashInput()>0&&n.changeAmount()>0?22:23),f(2),Z("text-yellow-400",n.changeAmount()<0)("text-emerald-400",n.changeAmount()>=0),f(),p(" $ ",D(26,22,n.tarjetaVuelto(n.changeAmount()))," "),f(3),U("disabled",n.changeAmount()>=0)("hidden",n.changeAmount()>=0),f(8),U("disabled",n.changeAmount()<0)("hidden",n.changeAmount()<0)}}function Ud(t,e){if(t&1&&(s(0,"tr")(1,"td",105)(2,"div",106),c(3),l(),s(4,"div",107),c(5),l()(),s(6,"td",108),c(7),w(8,"number"),l()()),t&2){let n=e.$implicit;f(3),pe(n.product.name),f(2),Un(" ",n.weight/1e3," KG x $",n.product.pricePerKg,"/kg "),f(2),p(" $",D(8,4,n.total)," ")}}function $d(t,e){if(t&1&&(s(0,"div",89)(1,"h2",90),c(2,"MI TIENDA"),l(),s(3,"p",91),c(4,"Calle Falsa 123, Valdivia"),l(),s(5,"p",91),c(6,"Tel: +569 8877 6654"),l()(),$(7,"div",92),s(8,"table",93)(9,"thead")(10,"tr",94)(11,"th",95),c(12,"Prod"),l(),s(13,"th",96),c(14,"$$"),l()()(),s(15,"tbody"),Te(16,Ud,9,6,"tr",null,ft),l()(),$(18,"div",92),s(19,"table",97)(20,"tr")(21,"td"),c(22,"TOTAL:"),l(),s(23,"td",98),c(24),w(25,"number"),l()(),s(26,"tr",99)(27,"td"),c(28,"Efectivo:"),l(),s(29,"td",98),c(30),w(31,"number"),l()(),s(32,"tr",99)(33,"td"),c(34,"Tarjeta:"),l(),s(35,"td",98),c(36),w(37,"number"),l()(),s(38,"tr",99)(39,"td"),c(40,"Vuelto:"),l(),s(41,"td",98),c(42),w(43,"number"),l()()(),s(44,"div",100)(45,"p"),c(46),l(),s(47,"p",101),c(48),w(49,"date"),l(),s(50,"div",102),Bn(),$(51,"svg",103),l(),jn(),s(52,"p",104),c(53,"*** GRACIAS POR SU COMPRA ***"),l()()),t&2){let n=x();f(16),Re(n.lastVoucher().items),f(8),p("$",D(25,6,n.lastVoucher().totalToPay)),f(6),p("$",D(31,8,n.lastVoucher().paymentCash)),f(6),p("$",D(37,10,n.lastVoucher().paymentCard)),f(6),p("$",D(43,12,n.lastVoucher().change)),f(4),p("ID: ",n.lastVoucher().id),f(2),pe($n(49,14,n.lastVoucher().date,"dd/MM/yyyy HH:mm"))}}var $i=class t{productService=ot(qe);confirmBtn;paymentInput;codeInput;weightInput;saleRows;constructor(){at(()=>{this.itemIndexToDelete()!==null&&setTimeout(()=>this.confirmBtn?.nativeElement?.focus(),50)}),at(()=>{this.showCheckout()&&setTimeout(()=>this.paymentInput?.nativeElement?.focus(),50)})}activeSaleIndex=m(0);sales=m([{id:1,items:[],total:0},{id:2,items:[],total:0}]);currentCode=m("");currentWeight=m(0);foundProduct=m(null);itemIndexToDelete=m(null);showCheckout=m(!1);paymentCashInput=m(0);lastVoucher=m(null);roundedTotal=T(()=>{let e=this.sales()[this.activeSaleIndex()].total;return Math.round(e/10)*10});isFullCashPayment=T(()=>this.paymentCashInput()>=this.roundedTotal());changeAmount=T(()=>{let e=this.sales()[this.activeSaleIndex()].total,n=this.paymentCashInput()-this.roundedTotal();return this.paymentCashInput()>0?n>=0?n:this.paymentCashInput()-e:e});lastKey="";lastKeyTime=0;handleGlobalKeys(e){let n=e.key;if(n==="+"){if(e.preventDefault(),this.itemIndexToDelete()!==null){this.cancelDelete();return}if(this.showCheckout()){this.closeCheckout();return}this.focusCodeInput();return}if(n==="/"||n==="Divide"){this.sales()[this.activeSaleIndex()].items.length>0&&!this.showCheckout()&&(e.preventDefault(),this.openCheckout());return}if(n==="-"){if(this.itemIndexToDelete()!==null||this.showCheckout())return;e.preventDefault(),this.cycleFocusUp();return}if(n==="*"){e.preventDefault(),this.switchSaleTab();return}}openCheckout(){this.paymentCashInput.set(0),this.showCheckout.set(!0)}rawTotal=T(()=>this.sales()[this.activeSaleIndex()].total);cardAmountToPay=T(()=>{let e=this.paymentCashInput(),n=this.rawTotal();return e>=this.roundedTotal()?0:Math.max(0,n-e)});closeCheckout(){this.showCheckout.set(!1),this.focusCodeInput()}updatePayment(e){let n=e.replace(/[^0-9]/g,"");n[0]==="0"&&(n=n.slice(1)),n.length>5&&(n=n.slice(0,5));let r=n?parseInt(n,10):0;this.paymentCashInput.set(r),this.paymentInput&&this.paymentInput.nativeElement.value!==n&&(this.paymentInput.nativeElement.value=n)}activateSaleIndex(e){[0,1].includes(e)&&this.activeSaleIndex.set(e)}finalizeSale(){let e=this.rawTotal(),n=this.paymentCashInput(),r=0,i=0,o=0,a=0;this.isFullCashPayment()?(r=this.roundedTotal(),i=r-e,o=0,a=n-r):(r=e,i=0,o=e-n,a=0);let u=[...this.sales()[this.activeSaleIndex()].items],g=Date.now(),E={items:u,subtotal:e,roundingDiff:i,totalToPay:r,paymentCash:n,paymentCard:o,change:a,date:new Date,id:g};this.lastVoucher.set(E),this.sales.update(q=>{let nt=[...q];return nt[this.activeSaleIndex()]={id:nt[this.activeSaleIndex()].id,items:[],total:0},nt}),this.showCheckout.set(!1),this.focusCodeInput(),setTimeout(()=>{try{(0,zi.default)("#barcode",E.id.toString(),{format:"CODE128",lineColor:"#000000",width:2,height:40,displayValue:!0,fontSize:10,margin:0})}catch(q){console.error("Error generando c\xF3digo de barras",q)}window.print()},100),setTimeout(()=>{window.print()},100)}sanitizeInput(e,n,r){if(!n){e==="code"?this.currentCode.set(""):this.currentWeight.set(0);return}let i=n.toString().replace(/[^0-9]/g,"0");i[0]==="0"&&(i=i.slice(1)),i.length>r&&(i=i.slice(0,r));let o=i?parseInt(i,10):0;e==="code"?(this.currentCode.set(i),this.codeInput&&this.codeInput.nativeElement.value!==i&&(this.codeInput.nativeElement.value=i)):(this.currentWeight.set(o),this.weightInput&&this.weightInput.nativeElement.value!==i&&(this.weightInput.nativeElement.value=o))}onCodeEnter(){let e=this.currentCode();if(!e)return;let n=this.productService.getProductByCode(e);n?(this.foundProduct.set(n),setTimeout(()=>this.weightInput.nativeElement.focus(),0)):this.currentCode.set("")}onWeightEnter(){let e=this.foundProduct(),n=this.currentWeight();e&&n&&n>0&&(this.addItemToCurrentSale(e,n),this.resetForm(),this.focusCodeInput())}tarjetaVuelto(e){return Math.abs(e)}addItemToCurrentSale(e,n){let r=Math.round(n/1e3*e.pricePerKg),i={product:e,weight:n,total:r};this.sales.update(o=>{let a=_({},o[this.activeSaleIndex()]);a.items=[...a.items,i],a.total+=r;let u=[...o];return u[this.activeSaleIndex()]=a,u})}onRowKeydown(e,n){if(e.key==="Enter"){if(e.preventDefault(),this.itemIndexToDelete()!=null)return this.confirmDelete();this.itemIndexToDelete.set(n)}}confirmDelete(){let e=this.itemIndexToDelete();e!==null&&(this.sales.update(n=>{let r=_({},n[this.activeSaleIndex()]);r.items.splice(e,1),r.total=r.items.reduce((o,a)=>o+a.total,0);let i=[...n];return i[this.activeSaleIndex()]=r,i}),this.cancelDelete())}cancelDelete(){this.itemIndexToDelete.set(null),this.focusCodeInput()}switchSaleTab(){let e=this.activeSaleIndex()===0?1:0;this.activeSaleIndex.set(e),this.resetForm(),this.focusCodeInput()}resetForm(){this.currentCode.set(""),this.currentWeight.set(0),this.foundProduct.set(null)}focusCodeInput(){setTimeout(()=>{this.codeInput&&this.codeInput.nativeElement.focus()},50)}cycleFocusUp(){let e=this.saleRows.toArray(),n=e.length;if(n===0)return;let r=document.activeElement,i=e.findIndex(a=>a.nativeElement===r),o;i===-1?o=n-1:(o=i-1,o<0&&(o=n-1)),e[o].nativeElement.focus()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Gn({type:t,selectors:[["app-pos"]],viewQuery:function(n,r){if(n&1&&Hn(Ad,5)(Md,5)(Vd,5)(Id,5)(Pd,5),n&2){let i;Q(i=J())&&(r.confirmBtn=i.first),Q(i=J())&&(r.paymentInput=i.first),Q(i=J())&&(r.codeInput=i.first),Q(i=J())&&(r.weightInput=i.first),Q(i=J())&&(r.saleRows=i)}},hostBindings:function(n,r){n&1&&b("keydown",function(o){return r.handleGlobalKeys(o)},Ln)},decls:54,vars:13,consts:[["codeInput",""],["weightInput",""],["saleRow",""],["confirmBtn",""],["paymentInput",""],[1,"h-[100dvh]","w-full","bg-slate-950","flex","flex-col","p-2","md:p-4","relative","overflow-hidden","font-sans","text-slate-200","no-print"],[1,"flex","gap-2","mb-2","select-none","shrink-0"],[1,"flex-1","p-2","md:p-3","rounded-t-xl","transition-all","border-t-4","cursor-pointer","relative","overflow-hidden","group",3,"border-blue-500","bg-slate-800","text-white","border-transparent","bg-slate-900","text-slate-500","opacity-60"],[1,"bg-slate-800","rounded-b-xl","shadow-2xl","flex-1","flex","flex-col","border","border-slate-700/50","relative","overflow-hidden"],[1,"flex","gap-2","md:gap-4","items-end","p-2","md:p-3","bg-slate-900/50","border-b","border-slate-700","shadow-inner","shrink-0","z-10"],[1,"w-24","md:w-32","shrink-0"],[1,"block","text-[9px]","md:text-[10px]","font-bold","text-blue-400","uppercase","tracking-wider","mb-1"],["type","number","inputmode","numeric","pattern","[1-9][0-9]*","maxlength","3","placeholder","#","autofocus","",1,"w-full","text-2xl","md:text-3xl","font-mono","p-1","border-b-2","border-slate-600","focus:border-blue-500","outline-none","bg-transparent","text-center","text-white","placeholder-slate-700","transition-colors","[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",3,"input","keydown.enter","ngModel"],[1,"flex-1","px-2","md:px-6","h-12","md:h-16","flex","flex-col","justify-center","border-l","border-r","border-slate-700","mx-1","md:mx-2","overflow-hidden"],[1,"text-slate-600","text-sm","md:text-lg","italic","font-light","flex","items-center","gap-2","truncate"],[1,"w-32","md:w-40","shrink-0"],[1,"block","text-[9px]","md:text-[10px]","font-bold","text-green-400","uppercase","tracking-wider","mb-1"],["type","number","inputmode","numeric","pattern","^(0|[1-9][0-9]*)","maxlength","5","placeholder","0",1,"w-full","text-2xl","md:text-3xl","font-mono","p-1","border-b-2","border-slate-600","focus:border-green-500","outline-none","bg-transparent","text-right","text-white","disabled:opacity-20","placeholder-slate-700","transition-colors","[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",3,"input","keydown.enter","ngModel","disabled"],[1,"flex-1","overflow-y-auto","bg-slate-900","relative","pb-20","scroll-smooth"],[1,"w-full","text-left","border-collapse"],[1,"bg-slate-950","text-slate-400","font-bold","uppercase","text-[10px]","sticky","top-0","z-20","shadow-lg","border-b","border-slate-800"],[1,"p-2","md:p-3","w-1/2","tracking-wider"],[1,"p-2","md:p-3","text-right","tracking-wider"],[1,"divide-y","divide-slate-800/50","text-base","md:text-lg"],["tabindex","0",1,"cursor-pointer","hover:bg-slate-800","transition-colors","focus:outline-none","group","active:bg-slate-700"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","text-slate-700","pointer-events-none","select-none"],[1,"absolute","bottom-2","left-2","right-2","md:bottom-4","md:left-4","md:right-4","h-14","md:h-16","bg-slate-900/95","backdrop-blur","border","border-slate-700","rounded-lg","flex","items-center","justify-between","px-4","md:px-6","shadow-2xl","z-30"],[1,"text-slate-400","font-mono","text-xs","md:text-sm"],[1,"text-white","font-bold"],[1,"flex","items-center","gap-4","md:gap-6"],[1,"text-right"],[1,"text-[9px]","text-slate-500","uppercase","font-bold","block","leading-none","mb-0.5"],[1,"text-2xl","md:text-3xl","font-black","text-white","font-mono","tracking-tight","leading-none"],[1,"bg-emerald-600","hover:bg-emerald-500","disabled:bg-slate-700","disabled:text-slate-500","disabled:cursor-not-allowed","text-white","px-4","md:px-8","py-2","md:py-3","rounded-md","font-bold","shadow-lg","shadow-emerald-900/50","active:translate-y-0.5","transition-all","flex","items-center","gap-2",3,"click","disabled"],[1,"hidden","md:inline","bg-black/20","px-1.5","rounded","text-[10px]","font-mono","opacity-70"],[1,"absolute","inset-0","z-50","bg-black/80","backdrop-blur-sm","flex","items-center","justify-center","animate-in","fade-in","duration-200","p-4"],[1,"absolute","inset-0","z-50","bg-black/90","backdrop-blur-md","flex","items-center","justify-center","animate-in","fade-in","duration-200","p-4"],["id","printableArea"],[1,"flex-1","p-2","md:p-3","rounded-t-xl","transition-all","border-t-4","cursor-pointer","relative","overflow-hidden","group",3,"click"],[1,"absolute","inset-0","bg-gradient-to-b","from-blue-500/10","to-transparent","pointer-events-none"],[1,"flex","justify-between","items-center","relative","z-10"],[1,"text-[10px]","md:text-xs","font-bold","tracking-widest","uppercase"],[1,"text-xl","md:text-3xl","font-mono","font-bold","tracking-tight"],[1,"text-slate-500","mr-1"],[1,"text-blue-400","font-bold","text-lg","md:text-2xl","leading-none","truncate","drop-shadow-sm"],[1,"text-slate-400","text-xs","md:text-sm","font-mono","mt-0.5"],[1,"animate-pulse"],["tabindex","0",1,"cursor-pointer","hover:bg-slate-800","transition-colors","focus:outline-none","group","active:bg-slate-700",3,"keydown"],[1,"p-2","md:p-3","pl-3","md:pl-4","font-medium","text-slate-300","group-hover:text-white","transition-colors"],[1,"p-2","md:p-3","text-right","font-mono","text-slate-500","text-sm","md:text-base"],[1,"p-2","md:p-3","pr-3","md:pr-4","text-right","font-bold","font-mono","text-emerald-400"],[1,"font-mono","text-sm","tracking-widest","opacity-50"],[1,"bg-slate-900","p-6","rounded-xl","shadow-2xl","w-full","max-w-sm","text-center","border","border-slate-700","relative","overflow-hidden"],[1,"absolute","top-0","left-0","right-0","h-1","bg-red-600","shadow-[0_0_10px_rgba(220,38,38,0.8)]"],[1,"text-2xl","font-black","text-white","mb-1","tracking-tight","mt-2"],[1,"bg-red-900/20","p-4","rounded-lg","my-4","border","border-red-900/50"],[1,"font-bold","text-red-400","text-lg"],[1,"flex","justify-between","mt-2","px-2","text-red-300/70","font-mono","text-sm"],[1,"font-bold","text-red-400"],[1,"grid","grid-cols-2","gap-3"],[1,"bg-red-600","hover:bg-red-500","text-white","py-3","rounded-lg","shadow-lg",3,"click","keydown.enter"],[1,"font-bold","uppercase","text-sm"],[1,"bg-slate-800","hover:bg-slate-700","text-slate-300","py-3","rounded-lg","border","border-slate-700",3,"click"],[1,"bg-slate-900","rounded-2xl","shadow-2xl","w-full","max-w-4xl","border","border-slate-700","relative","overflow-hidden","flex","flex-col","landscape:flex-row","landscape:h-[80vh]","md:h-auto"],[1,"absolute","top-0","left-0","right-0","h-1","bg-emerald-500","shadow-[0_0_20px_rgba(16,185,129,0.6)]","z-10"],[1,"flex-1","p-6","md:p-8","flex","flex-col","justify-center","border-b","landscape:border-b-0","landscape:border-r","border-slate-700"],[1,"text-2xl","font-black","text-white","mb-6","text-center","tracking-tight","landscape:hidden"],[1,"flex","justify-between","items-end","mb-6","px-2"],[1,"text-slate-400","font-bold","uppercase","text-sm"],[1,"text-4xl","font-mono","font-bold","text-white","tracking-tighter"],[1,"mb-2"],[1,"block","text-emerald-400","text-xs","font-bold","uppercase","tracking-widest","mb-2"],[1,"relative"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-slate-500","text-2xl","font-mono"],["type","number","inputmode","numeric","pattern","^(0|[1-9][0-9]*)","maxlength","5","placeholder","0",1,"w-full","bg-slate-950","border-2","border-slate-700","focus:border-emerald-500","rounded-xl","py-4","pl-10","pr-4","text-3xl","font-mono","text-white","outline-none","transition-all","shadow-inner","[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",3,"input","keydown.enter","ngModel"],[1,"flex-1","p-6","md:p-8","flex","flex-col","justify-center","bg-slate-800/30"],[1,"rounded-xl","p-4","mb-6","border","flex","flex-col","items-center","justify-center","transition-colors","min-h-[5rem]"],[1,"text-slate-400","font-bold","uppercase","text-xs","mb-1"],[1,"text-4xl","font-mono","font-bold"],[1,"flex","flex-col","gap-3"],[1,"w-full","bg-emerald-600","hover:bg-emerald-500","disabled:bg-slate-800","disabled:text-slate-600","disabled:cursor-not-allowed","text-white","py-3","rounded-xl","shadow-lg","active:translate-y-0.5","transition-all","flex","items-center","justify-center","gap-3",3,"click","disabled","hidden"],[1,"font-black","text-xs","bg-black/20","w-13","h-13","flex","items-center","justify-center","rounded-full"],[1,"text-left","leading-none"],[1,"text-xs","opacity-80","uppercase","font-bold"],[1,"text-[10px]","opacity-60"],[1,"font-black","text-lg"],[1,"text-[10px]","opacity-80","uppercase","font-bold"],[1,"w-full","bg-transparent","hover:bg-slate-800","text-slate-400","hover:text-white","py-3","rounded-xl","border-2","border-slate-700","active:translate-y-0.5","transition-all",3,"click"],[1,"text-xs","uppercase","font-bold"],[2,"text-align","center","margin-bottom","10px"],[2,"margin","0","font-size","16px","font-weight","bold"],[2,"margin","2px 0","font-size","10px"],[2,"border-bottom","1px dashed black","margin","5px 0"],[2,"width","100%","font-size","12px","border-collapse","collapse"],[2,"text-align","left"],[2,"padding-bottom","4px"],[2,"text-align","right","padding-bottom","4px"],[2,"width","100%","font-size","14px","font-weight","bold"],[2,"text-align","right"],[2,"font-size","12px","font-weight","normal"],[2,"margin-top","15px","text-align","center","font-size","10px"],[2,"font-size","10px","color","#040303"],[2,"margin","10px 0"],["id","barcode",2,"width","200px"],[2,"margin-top","10px","color","#050505"],[2,"padding","2px 0"],[2,"font-size","9px","color","#262626"],[2,"font-size","9px","color","#050505"],[2,"text-align","right","vertical-align","top","padding","2px 0"]],template:function(n,r){if(n&1){let i=Y();s(0,"div",5)(1,"div",6),Te(2,kd,10,19,"div",7,Td),l(),s(4,"div",8)(5,"div",9)(6,"div",10)(7,"label",11),c(8,"C\xF3digo"),l(),s(9,"input",12,0),b("input",function(){v(i);let a=ke(10);return y(r.sanitizeInput("code",a.value,3))})("keydown.enter",function(){return v(i),y(r.onCodeEnter())}),l()(),s(11,"div",13),N(12,Fd,5,4)(13,Nd,4,0,"div",14),l(),s(14,"div",15)(15,"label",16),c(16,"Peso (Gr)"),l(),s(17,"input",17,1),b("input",function(){v(i);let a=ke(18);return y(r.sanitizeInput("weight",a.value,5))})("keydown.enter",function(){return v(i),y(r.onWeightEnter())}),l()()(),s(19,"div",18)(20,"table",19)(21,"thead",20)(22,"tr")(23,"th",21),c(24,"Producto"),l(),s(25,"th",22),c(26,"Peso"),l(),s(27,"th",22),c(28,"Precio"),l()()(),s(29,"tbody",23),Te(30,Bd,9,5,"tr",24,ft),l()(),N(32,jd,3,0,"div",25),l(),s(33,"div",26)(34,"div",27),c(35," ITEMs: "),s(36,"span",28),c(37),l()(),s(38,"div",29)(39,"div",30)(40,"span",31),c(41,"Total"),l(),s(42,"span",32),c(43),w(44,"number"),l()(),s(45,"button",33),b("click",function(){return v(i),y(r.openCheckout())}),s(46,"span"),c(47,"COBRAR"),l(),s(48,"span",34),c(49,"/"),l()()()()(),N(50,Ld,22,5,"div",35),N(51,Hd,44,24,"div",36),l(),s(52,"div",37),N(53,$d,54,17),l()}n&2&&(f(2),Re(r.sales()),f(7),U("ngModel",r.currentCode()),f(3),B(r.foundProduct()?12:13),f(5),U("ngModel",r.currentWeight())("disabled",!r.foundProduct()),f(13),Re(r.sales()[r.activeSaleIndex()].items),f(2),B(r.sales()[r.activeSaleIndex()].items.length===0?32:-1),f(5),pe(r.sales()[r.activeSaleIndex()].items.length),f(6),p("$ ",D(44,11,r.sales()[r.activeSaleIndex()].total)),f(2),U("disabled",r.sales()[r.activeSaleIndex()].items.length===0),f(5),B(r.itemIndexToDelete()!==null?50:-1),f(),B(r.showCheckout()?51:-1),f(2),B(r.lastVoucher()?53:-1))},dependencies:[Yn,yr,Le,Ct,mr,Ot,St,wt,Kn,Xn],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#334155;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#475569}tr[_ngcontent-%COMP%]:focus{outline:2px solid #ef4444;background-color:#ef444426;position:relative;z-index:10;color:#fff}@media print{@page{margin:0;size:58mm auto}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden;height:0;overflow:hidden}#printableArea[_ngcontent-%COMP%], #printableArea[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible;height:auto}#printableArea[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:58mm;padding:2mm;font-family:Courier New,Courier,monospace;font-size:12px;color:#000;background:#fff}.no-print[_ngcontent-%COMP%]{display:none!important}}"]})};export{$i as PosComponent};
