import{$a as X,Aa as lt,Ab as pt,Ba as S,Fa as Bn,Ga as ct,Gb as $n,Ha as R,Hb as zn,Ia as q,Ib as Wn,J as de,K as tt,Ka as jn,L as nt,N as W,Na as dt,Oa as H,P as rt,Pa as U,Qa as ft,Sa as Pe,Ta as Te,U as g,Ua as N,V as m,Va as s,W as it,Wa as l,X as ot,Xa as k,a as y,aa as Ve,ab as b,b as I,cb as x,d,db as Ln,e as Ui,eb as K,fa as _,fb as Y,ga as at,gb as Re,ha as G,hb as Q,i as Tn,ia as st,ib as c,ja as Ie,jb as ht,ka as ut,kb as h,l as Rn,lb as Gn,mb as fe,ob as w,pb as D,q as kn,qb as qn,sa as Nn,sb as P,ta as f,v as Fn,xb as Hn,zb as Un}from"./chunk-WPFCP6T7.js";var C=d(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});function So(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Do=function t(e,n){So(this,t),this.data=e,this.text=n.text||e,this.options=n};St.default=Do});var yr=d(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.CODE39=void 0;var Ao=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Mo=C(),Vo=Io(Mo);function Io(t){return t&&t.__esModule?t:{default:t}}function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function To(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ro(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ko=(function(t){Ro(e,t);function e(n,r){return Po(this,e),n=n.toUpperCase(),r.mod43&&(n+=Bo(jo(n))),To(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Ao(e,[{key:"encode",value:function(){for(var r=Dt("*"),i=0;i<this.data.length;i++)r+=Dt(this.data[i])+"0";return r+=Dt("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e})(Vo.default),_r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Fo=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Dt(t){return No(vr(t))}function No(t){return Fo[t].toString(2)}function Bo(t){return _r[t]}function vr(t){return _r.indexOf(t)}function jo(t){for(var e=0,n=0;n<t.length;n++)e+=vr(t[n]);return e=e%43,e}qe.CODE39=ko});var ee=d(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});var ve;function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var br=p.SET_A=0,xr=p.SET_B=1,Er=p.SET_C=2,bf=p.SHIFT=98,Lo=p.START_A=103,Go=p.START_B=104,qo=p.START_C=105,xf=p.MODULO=103,Ef=p.STOP=106,wf=p.FNC1=207,Cf=p.SET_BY_CODE=(ve={},At(ve,Lo,br),At(ve,Go,xr),At(ve,qo,Er),ve),Of=p.SWAP={101:br,100:xr,99:Er},Sf=p.A_START_CHAR="\xD0",Df=p.B_START_CHAR="\xD1",Af=p.C_START_CHAR="\xD2",Mf=p.A_CHARS="[\0-_\xC8-\xCF]",Vf=p.B_CHARS="[ -\x7F\xC8-\xCF]",If=p.C_CHARS="(\xCF*[0-9]{2}\xCF*)",Pf=p.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var ye=d(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var Ho=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Uo=C(),$o=zo(Uo),A=ee();function zo(t){return t&&t.__esModule?t:{default:t}}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yo=(function(t){Ko(e,t);function e(n,r){Wo(this,e);var i=Xo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return Ho(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=A.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(A.FNC1);var a=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%A.MODULO)+e.getBar(A.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return A.BARS[r]?A.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===A.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===A.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,u=void 0;if(r[0]>=200){u=r.shift()-105;var v=A.SWAP[u];v!==void 0?a=e.next(r,i+1,v):((o===A.SET_A||o===A.SET_B)&&u===A.SHIFT&&(r[0]=o===A.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=e.next(r,i+1,o))}else u=e.correctIndex(r,o),a=e.next(r,i+1,o);var E=e.getBar(u),ce=u*i;return{result:E+a.result,checksum:ce+a.checksum}}}]),e})($o.default);Mt.default=Yo});var Dr=d(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});var B=ee(),wr=function(e){return e.match(new RegExp("^"+B.A_CHARS+"*"))[0].length},Cr=function(e){return e.match(new RegExp("^"+B.B_CHARS+"*"))[0].length},Or=function(e){return e.match(new RegExp("^"+B.C_CHARS+"*"))[0]};function Vt(t,e){var n=e?B.A_CHARS:B.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"\xCC"+Sr(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+Vt(t.substring(i.length),!e)}function Sr(t){var e=Or(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=wr(t)>=Cr(t);return e+String.fromCharCode(r?206:205)+Vt(t,r)}It.default=function(t){var e=void 0,n=Or(t).length;if(n>=2)e=B.C_START_CHAR+Sr(t);else{var r=wr(t)>Cr(t);e=(r?B.A_START_CHAR:B.B_START_CHAR)+Vt(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Mr=d(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var Qo=ye(),Jo=Ar(Qo),Zo=Dr(),ea=Ar(Zo);function Ar(t){return t&&t.__esModule?t:{default:t}}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function na(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ra=(function(t){na(e,t);function e(n,r){if(ta(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Pt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,ea.default)(n),r));else var i=Pt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Pt(i)}return e})(Jo.default);Tt.default=ra});var Ir=d(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var ia=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),oa=ye(),aa=sa(oa),Vr=ee();function sa(t){return t&&t.__esModule?t:{default:t}}function ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ca(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var da=(function(t){ca(e,t);function e(n,r){return ua(this,e),la(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vr.A_START_CHAR+n,r))}return ia(e,[{key:"valid",value:function(){return new RegExp("^"+Vr.A_CHARS+"+$").test(this.data)}}]),e})(aa.default);Rt.default=da});var Tr=d(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var fa=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),ha=ye(),pa=ga(ha),Pr=ee();function ga(t){return t&&t.__esModule?t:{default:t}}function ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function va(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ya=(function(t){va(e,t);function e(n,r){return ma(this,e),_a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Pr.B_START_CHAR+n,r))}return fa(e,[{key:"valid",value:function(){return new RegExp("^"+Pr.B_CHARS+"+$").test(this.data)}}]),e})(pa.default);kt.default=ya});var kr=d(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var ba=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),xa=ye(),Ea=wa(xa),Rr=ee();function wa(t){return t&&t.__esModule?t:{default:t}}function Ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Da=(function(t){Sa(e,t);function e(n,r){return Ca(this,e),Oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Rr.C_START_CHAR+n,r))}return ba(e,[{key:"valid",value:function(){return new RegExp("^"+Rr.C_CHARS+"+$").test(this.data)}}]),e})(Ea.default);Ft.default=Da});var Fr=d(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.CODE128C=T.CODE128B=T.CODE128A=T.CODE128=void 0;var Aa=Mr(),Ma=He(Aa),Va=Ir(),Ia=He(Va),Pa=Tr(),Ta=He(Pa),Ra=kr(),ka=He(Ra);function He(t){return t&&t.__esModule?t:{default:t}}T.CODE128=Ma.default;T.CODE128A=Ia.default;T.CODE128B=Ta.default;T.CODE128C=ka.default});var te=d(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var Gf=j.SIDE_BIN="101",qf=j.MIDDLE_BIN="01010",Hf=j.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Uf=j.EAN2_STRUCTURE=["LL","LG","GL","GG"],$f=j.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],zf=j.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var ne=d(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var Fa=te(),Na=function(e,n,r){var i=e.split("").map(function(a,u){return Fa.BINARIES[n[u]]}).map(function(a,u){return a?a[e[u]]:""});if(r){var o=e.length-1;i=i.map(function(a,u){return u<o?a+r:a})}return i.join("")};Nt.default=Na});var jt=d(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var Ba=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),re=te(),ja=ne(),Nr=Br(ja),La=C(),Ga=Br(La);function Br(t){return t&&t.__esModule?t:{default:t}}function qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ua(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $a=(function(t){Ua(e,t);function e(n,r){qa(this,e);var i=Ha(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ba(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,Nr.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,Nr.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:re.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:re.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:re.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[re.SIDE_BIN,this.leftEncode(),re.MIDDLE_BIN,this.rightEncode(),re.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e})(Ga.default);Bt.default=$a});var Lr=d(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var za=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),be=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},Wa=te(),Xa=jt(),Ka=Ya(Xa);function Ya(t){return t&&t.__esModule?t:{default:t}}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ja(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jr=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-n%10)%10},es=(function(t){Za(e,t);function e(n,r){Qa(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=jr(n));var i=Ja(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return za(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===jr(this.data)}},{key:"leftText",value:function(){return be(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Wa.EAN13_STRUCTURE[this.data[0]];return be(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return be(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return be(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=be(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e})(Ka.default);Lt.default=es});var qr=d(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var ts=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Ue=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},ns=jt(),rs=is(ns);function is(t){return t&&t.__esModule?t:{default:t}}function os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function as(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ss(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gr=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-n%10)%10},us=(function(t){ss(e,t);function e(n,r){return os(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Gr(n)),as(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ts(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Gr(this.data)}},{key:"leftText",value:function(){return Ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return Ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return Ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return Ue(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e})(rs.default);Gt.default=us});var Ur=d(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});var ls=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),cs=te(),ds=ne(),fs=Hr(ds),hs=C(),ps=Hr(hs);function Hr(t){return t&&t.__esModule?t:{default:t}}function gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ms(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vs=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return n%10},ys=(function(t){_s(e,t);function e(n,r){return gs(this,e),ms(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ls(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=cs.EAN5_STRUCTURE[vs(this.data)];return{data:"1011"+(0,fs.default)(this.data,r,"01"),text:this.text}}}]),e})(ps.default);qt.default=ys});var zr=d(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var bs=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),xs=te(),Es=ne(),ws=$r(Es),Cs=C(),Os=$r(Cs);function $r(t){return t&&t.__esModule?t:{default:t}}function Ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ds(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function As(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ms=(function(t){As(e,t);function e(n,r){return Ss(this,e),Ds(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return bs(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=xs.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,ws.default)(this.data,r,"01"),text:this.text}}}]),e})(Os.default);Ht.default=Ms});var $t=d($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var Vs=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();$e.checksum=Ut;var Is=ne(),ie=Wr(Is),Ps=C(),Ts=Wr(Ps);function Wr(t){return t&&t.__esModule?t:{default:t}}function Rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ks(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ns=(function(t){Fs(e,t);function e(n,r){Rs(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Ut(n));var i=ks(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Vs(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Ut(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,ie.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,ie.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,ie.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,ie.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,ie.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,ie.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e})(Ts.default);function Ut(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}$e.default=Ns});var Yr=d(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var Bs=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),js=ne(),Ls=Kr(js),Gs=C(),qs=Kr(Gs),Hs=$t();function Kr(t){return t&&t.__esModule?t:{default:t}}function Us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zs=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Ws=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Xs=(function(t){$s(e,t);function e(n,r){Us(this,e);var i=zt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=Xr(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=Xr(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return zt(i);else return zt(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Bs(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=Ws[parseInt(i)][parseInt(r)];return(0,Ls.default)(this.middleDigits,o)}}]),e})(qs.default);function Xr(t,e){for(var n=parseInt(t[t.length-1]),r=zs[n],i="",o=0,a=0;a<r.length;a++){var u=r[a];u==="X"?i+=t[o++]:i+=u}return i=""+e+i,""+i+(0,Hs.checksum)(i)}Wt.default=Xs});var Qr=d(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.UPCE=O.UPC=O.EAN2=O.EAN5=O.EAN8=O.EAN13=void 0;var Ks=Lr(),Ys=oe(Ks),Qs=qr(),Js=oe(Qs),Zs=Ur(),eu=oe(Zs),tu=zr(),nu=oe(tu),ru=$t(),iu=oe(ru),ou=Yr(),au=oe(ou);function oe(t){return t&&t.__esModule?t:{default:t}}O.EAN13=Ys.default;O.EAN8=Js.default;O.EAN5=eu.default;O.EAN2=nu.default;O.UPC=iu.default;O.UPCE=au.default});var Jr=d(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});var r0=xe.START_BIN="1010",i0=xe.END_BIN="11101",o0=xe.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var Kt=d(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var su=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),ze=Jr(),uu=C(),lu=cu(uu);function cu(t){return t&&t.__esModule?t:{default:t}}function du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pu=(function(t){hu(e,t);function e(){return du(this,e),fu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return su(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:ze.START_BIN+i+ze.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=ze.BINARIES[r[1]];return ze.BINARIES[r[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),e})(lu.default);Xt.default=pu});var ei=d(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var gu=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),mu=Kt(),_u=vu(mu);function vu(t){return t&&t.__esModule?t:{default:t}}function yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zr=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},Eu=(function(t){xu(e,t);function e(n,r){return yu(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=Zr(n)),bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return gu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Zr(this.data)}}]),e})(_u.default);Yt.default=Eu});var ni=d(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.ITF14=ae.ITF=void 0;var wu=Kt(),Cu=ti(wu),Ou=ei(),Su=ti(Ou);function ti(t){return t&&t.__esModule?t:{default:t}}ae.ITF=Cu.default;ae.ITF14=Su.default});var se=d(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});var Du=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Au=C(),Mu=Vu(Au);function Vu(t){return t&&t.__esModule?t:{default:t}}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ru=(function(t){Tu(e,t);function e(n,r){return Iu(this,e),Pu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Du(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=ku(a,4-a.length);for(var u=0;u<a.length;u++)r+=a[u]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e})(Mu.default);function ku(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Qt.default=Ru});var Ee=d(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.mod10=Fu;We.mod11=Nu;function Fu(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function Nu(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}});var ri=d(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Bu=se(),ju=Gu(Bu),Lu=Ee();function Gu(t){return t&&t.__esModule?t:{default:t}}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $u=(function(t){Uu(e,t);function e(n,r){return qu(this,e),Hu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Lu.mod10)(n),r))}return e})(ju.default);Jt.default=$u});var ii=d(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var zu=se(),Wu=Ku(zu),Xu=Ee();function Ku(t){return t&&t.__esModule?t:{default:t}}function Yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ju(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zu=(function(t){Ju(e,t);function e(n,r){return Yu(this,e),Qu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Xu.mod11)(n),r))}return e})(Wu.default);Zt.default=Zu});var ai=d(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var el=se(),tl=nl(el),oi=Ee();function nl(t){return t&&t.__esModule?t:{default:t}}function rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function il(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ol(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var al=(function(t){ol(e,t);function e(n,r){return rl(this,e),n+=(0,oi.mod10)(n),n+=(0,oi.mod10)(n),il(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e})(tl.default);en.default=al});var ui=d(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var sl=se(),ul=ll(sl),si=Ee();function ll(t){return t&&t.__esModule?t:{default:t}}function cl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hl=(function(t){fl(e,t);function e(n,r){return cl(this,e),n+=(0,si.mod11)(n),n+=(0,si.mod10)(n),dl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e})(ul.default);tn.default=hl});var li=d(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.MSI1110=M.MSI1010=M.MSI11=M.MSI10=M.MSI=void 0;var pl=se(),gl=we(pl),ml=ri(),_l=we(ml),vl=ii(),yl=we(vl),bl=ai(),xl=we(bl),El=ui(),wl=we(El);function we(t){return t&&t.__esModule?t:{default:t}}M.MSI=gl.default;M.MSI10=_l.default;M.MSI11=yl.default;M.MSI1010=xl.default;M.MSI1110=wl.default});var ci=d(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.pharmacode=void 0;var Cl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Ol=C(),Sl=Dl(Ol);function Dl(t){return t&&t.__esModule?t:{default:t}}function Al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ml(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Il=(function(t){Vl(e,t);function e(n,r){Al(this,e);var i=Ml(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return Cl(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e})(Sl.default);Xe.pharmacode=Il});var di=d(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.codabar=void 0;var Pl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Tl=C(),Rl=kl(Tl);function kl(t){return t&&t.__esModule?t:{default:t}}function Fl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jl=(function(t){Bl(e,t);function e(n,r){Fl(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=Nl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return Pl(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e})(Rl.default);Ke.codabar=jl});var fi=d(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var y0=Ce.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],b0=Ce.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],x0=Ce.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var rn=d(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var Ll=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Ye=fi(),Gl=C(),ql=Hl(Gl);function Hl(t){return t&&t.__esModule?t:{default:t}}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wl=(function(t){zl(e,t);function e(n,r){return Ul(this,e),$l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Ll(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(u){return Ye.MULTI_SYMBOLS[u]||u}),i=r.map(function(u){return e.getEncoding(u)}).join(""),o=e.checksum(r,20),a=e.checksum(r.concat(o),15);return{text:this.text,data:e.getEncoding("\xFF")+i+e.getEncoding(o)+e.getEncoding(a)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(r){return Ye.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Ye.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Ye.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var o=r.slice().reverse().reduce(function(a,u,v){var E=v%i+1;return a+e.symbolValue(u)*E},0);return e.getSymbol(o%47)}}]),e})(ql.default);nn.default=Wl});var hi=d(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Xl=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Kl=rn(),Yl=Ql(Kl);function Ql(t){return t&&t.__esModule?t:{default:t}}function Jl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ec(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tc=(function(t){ec(e,t);function e(n,r){return Jl(this,e),Zl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Xl(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e})(Yl.default);on.default=tc});var gi=d(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.CODE93FullASCII=ue.CODE93=void 0;var nc=rn(),rc=pi(nc),ic=hi(),oc=pi(ic);function pi(t){return t&&t.__esModule?t:{default:t}}ue.CODE93=rc.default;ue.CODE93FullASCII=oc.default});var mi=d(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.GenericBarcode=void 0;var ac=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),sc=C(),uc=lc(sc);function lc(t){return t&&t.__esModule?t:{default:t}}function cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hc=(function(t){fc(e,t);function e(n,r){return cc(this,e),dc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ac(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e})(uc.default);Qe.GenericBarcode=hc});var yi=d(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var pc=yr(),Je=Fr(),le=Qr(),_i=ni(),Oe=li(),gc=ci(),mc=di(),vi=gi(),_c=mi();an.default={CODE39:pc.CODE39,CODE128:Je.CODE128,CODE128A:Je.CODE128A,CODE128B:Je.CODE128B,CODE128C:Je.CODE128C,EAN13:le.EAN13,EAN8:le.EAN8,EAN5:le.EAN5,EAN2:le.EAN2,UPC:le.UPC,UPCE:le.UPCE,ITF14:_i.ITF14,ITF:_i.ITF,MSI:Oe.MSI,MSI10:Oe.MSI10,MSI11:Oe.MSI11,MSI1010:Oe.MSI1010,MSI1110:Oe.MSI1110,pharmacode:gc.pharmacode,codabar:mc.codabar,CODE93:vi.CODE93,CODE93FullASCII:vi.CODE93FullASCII,GenericBarcode:_c.GenericBarcode}});var Se=d(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var vc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};sn.default=function(t,e){return vc({},t,e)}});var bi=d(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.default=yc;function yc(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}});var xi=d(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.default=bc;function bc(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var dn=d(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.default=xc;function xc(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var hn=d(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Ec={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};fn.default=Ec});var Ci=d(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var wc=dn(),Cc=wi(wc),Oc=hn(),Ei=wi(Oc);function wi(t){return t&&t.__esModule?t:{default:t}}function Sc(t){var e={};for(var n in Ei.default)Ei.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Cc.default)(e),e}pn.default=Sc});var gn=d(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.getTotalWidthOfEncodings=V.calculateEncodingAttributes=V.getBarcodePadding=V.getEncodingHeight=V.getMaximumHeightOfEncodings=void 0;var Dc=Se(),Ac=Mc(Dc);function Mc(t){return t&&t.__esModule?t:{default:t}}function Oi(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Si(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function Vc(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=(0,Ac.default)(e,i.options),a;o.displayValue?a=Tc(i.text,o,n):a=0;var u=i.data.length*o.width;i.width=Math.ceil(Math.max(a,u)),i.height=Oi(i,o),i.barcodePadding=Si(a,u,o)}}function Ic(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function Pc(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function Tc(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var o=i.width;return o}V.getMaximumHeightOfEncodings=Pc;V.getEncodingHeight=Oi;V.getBarcodePadding=Si;V.calculateEncodingAttributes=Vc;V.getTotalWidthOfEncodings=Ic});var Di=d(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});var Rc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),kc=Se(),Fc=Nc(kc),mn=gn();function Nc(t){return t&&t.__esModule?t:{default:t}}function Bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var jc=(function(){function t(e,n,r){Bc(this,t),this.canvas=e,this.encodings=n,this.options=r}return Rc(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,Fc.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,mn.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,mn.getTotalWidthOfEncodings)(this.encodings),i=(0,mn.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),o=r.data,a;n.textPosition=="top"?a=n.marginTop+n.fontSize+n.textMargin:a=n.marginTop,i.fillStyle=n.lineColor;for(var u=0;u<o.length;u++){var v=u*n.width+r.barcodePadding;o[u]==="1"?i.fillRect(v,a,n.width,n.height):o[u]&&i.fillRect(v,a,n.width,n.height*o[u])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),o=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var a,u;n.textPosition=="top"?u=n.marginTop+n.fontSize-n.textMargin:u=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=o,n.textAlign=="left"||r.barcodePadding>0?(a=0,i.textAlign="left"):n.textAlign=="right"?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,u)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t})();_n.default=jc});var Ai=d(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Lc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})(),Gc=Se(),qc=Hc(Gc),vn=gn();function Hc(t){return t&&t.__esModule?t:{default:t}}function Uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ze="http://www.w3.org/2000/svg",$c=(function(){function t(e,n,r){Uc(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return Lc(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,qc.default)(this.options,i.options),a=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,vn.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,vn.getTotalWidthOfEncodings)(this.encodings),r=(0,vn.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(n,r,i){var o=i.data,a;r.textPosition=="top"?a=r.fontSize+r.textMargin:a=0;for(var u=0,v=0,E=0;E<o.length;E++)v=E*r.width+i.barcodePadding,o[E]==="1"?u++:u>0&&(this.drawRect(v-r.width*u,a,r.width*u,r.height,n),u=0);u>0&&this.drawRect(v-r.width*(u-1),a,r.width*u,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var o=this.document.createElementNS(Ze,"text");if(r.displayValue){var a,u;o.setAttribute("font-family",r.font),o.setAttribute("font-size",r.fontSize),r.fontOptions.includes("bold")&&o.setAttribute("font-weight","bold"),r.fontOptions.includes("italic")&&o.setAttribute("font-style","italic"),r.textPosition=="top"?u=r.fontSize-r.textMargin:u=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",u),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Ze),i.setAttribute("version","1.1")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(Ze,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("fill",r.lineColor)}},{key:"drawRect",value:function(n,r,i,o,a){var u=this.document.createElementNS(Ze,"rect");return u.setAttribute("x",n),u.setAttribute("y",r),u.setAttribute("width",i),u.setAttribute("height",o),a.appendChild(u),u}}]),t})();yn.default=$c});var Mi=d(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var zc=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function Wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xc=(function(){function t(e,n,r){Wc(this,t),this.object=e,this.encodings=n,this.options=r}return zc(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t})();bn.default=Xc});var Vi=d(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Kc=Di(),Yc=xn(Kc),Qc=Ai(),Jc=xn(Qc),Zc=Mi(),ed=xn(Zc);function xn(t){return t&&t.__esModule?t:{default:t}}En.default={CanvasRenderer:Yc.default,SVGRenderer:Jc.default,ObjectRenderer:ed.default}});var Sn=d(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});function wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function On(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var td=(function(t){On(e,t);function e(n,r){wn(this,e);var i=Cn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e})(Error),nd=(function(t){On(e,t);function e(){wn(this,e);var n=Cn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e})(Error),rd=(function(t){On(e,t);function e(){wn(this,e);var n=Cn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e})(Error);De.InvalidInputException=td;De.InvalidElementException=nd;De.NoElementException=rd});var Pi=d(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od=Ci(),Dn=Ii(od),ad=Vi(),Ae=Ii(ad),sd=Sn();function Ii(t){return t&&t.__esModule?t:{default:t}}function An(t){if(typeof t=="string")return ud(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(An(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return ld(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Dn.default)(t),renderer:Ae.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Dn.default)(t),renderer:Ae.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Ae.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":id(t))==="object"&&!t.nodeName)return{element:t,renderer:Ae.default.ObjectRenderer};throw new sd.InvalidElementException}}function ud(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(An(e[r]));return n}}function ld(t){var e=document.createElement("canvas");return{element:e,options:(0,Dn.default)(t),renderer:Ae.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Mn.default=An});var Ti=d(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var cd=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fd=(function(){function t(e){dd(this,t),this.api=e}return cd(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t})();Vn.default=fd});var Gi=d((q0,Li)=>{"use strict";var hd=yi(),z=L(hd),pd=Se(),Me=L(pd),gd=bi(),ki=L(gd),md=xi(),Ri=L(md),_d=Pi(),vd=L(_d),yd=dn(),bd=L(yd),xd=Ti(),Ed=L(xd),Fi=Sn(),wd=hn(),Ni=L(wd);function L(t){return t&&t.__esModule?t:{default:t}}var F=function(){},et=function(e,n,r){var i=new F;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,vd.default)(e),i._encodings=[],i._options=Ni.default,i._errorHandler=new Ed.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=ji()),i.options(r)[r.format](n,r).render()),i};et.getModule=function(t){return z.default[t]};for(In in z.default)z.default.hasOwnProperty(In)&&Cd(z.default,In);var In;function Cd(t,e){F.prototype[e]=F.prototype[e.toUpperCase()]=F.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,Me.default)(i._options,r);o=(0,bd.default)(o);var a=t[e],u=Bi(n,a,o);return i._encodings.push(u),i})}}function Bi(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new Fi.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,ki.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,Me.default)(n,i[o].options);return i}function ji(){return z.default.CODE128?"CODE128":Object.keys(z.default)[0]}F.prototype.options=function(t){return this._options=(0,Me.default)(this._options,t),this};F.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};F.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Me.default)(this._options,t.options);n.format=="auto"&&(n.format=ji()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=z.default[n.format.toUpperCase()],o=Bi(r,i,n);Pn(t,o,n)})}}};F.prototype.render=function(){if(!this._renderProperties)throw new Fi.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Pn(this._renderProperties[t],this._encodings,this._options);else Pn(this._renderProperties,this._encodings,this._options);return this};F.prototype._defaults=Ni.default;function Pn(t,e,n){e=(0,ki.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Me.default)(n,e[r].options),(0,Ri.default)(e[r].options);(0,Ri.default)(n);var i=t.renderer,o=new i(t.element,e,n);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=et);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),et(n,t,e)});Li.exports=et});var nr=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(S(lt),S(ut))};static \u0275dir=R({type:t})}return t})(),$i=(()=>{class t extends nr{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ie(t)))(i||t)}})();static \u0275dir=R({type:t,features:[q]})}return t})(),rr=new W("");var zi={provide:rr,useExisting:de(()=>je),multi:!0};function Wi(){let t=pt()?pt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Xi=new W(""),je=(()=>{class t extends nr{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Wi())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(S(lt),S(ut),S(Xi,8))};static \u0275dir=R({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&b("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[fe([zi]),q]})}return t})();function Ki(t){return t==null||ir(t)===0}function ir(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var xt=new W(""),Yi=new W("");function Qi(t){return e=>{let n=e.value?.length??ir(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Ji(t){if(!t)return gt;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ki(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function gt(t){return null}function or(t){return t!=null}function ar(t){return jn(t)?Rn(t):t}function sr(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function ur(t,e){return e.map(n=>n(t))}function Zi(t){return!t.validate}function lr(t){return t.map(e=>Zi(e)?e:n=>e.validate(n))}function eo(t){if(!t)return null;let e=t.filter(or);return e.length==0?null:function(n){return sr(ur(n,e))}}function cr(t){return t!=null?eo(lr(t)):null}function to(t){if(!t)return null;let e=t.filter(or);return e.length==0?null:function(n){let r=ur(n,e).map(ar);return Fn(r).pipe(kn(sr))}}function dr(t){return t!=null?to(lr(t)):null}function Xn(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function no(t){return t._rawValidators}function ro(t){return t._rawAsyncValidators}function mt(t){return t?Array.isArray(t)?t:[t]:[]}function Fe(t,e){return Array.isArray(t)?t.includes(e):t===e}function Kn(t,e){let n=mt(e);return mt(t).forEach(i=>{Fe(n,i)||n.push(i)}),n}function Yn(t,e){return mt(e).filter(n=>!Fe(t,n))}var Ne=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control?.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},_t=class extends Ne{name;get formDirective(){return null}get path(){return null}},_e=class extends Ne{_parent=null;name=null;valueAccessor=null},vt=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var fr=(()=>{class t extends vt{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(S(_e,2))};static \u0275dir=R({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Q("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[q]})}return t})();var he="VALID",ke="INVALID",J="PENDING",pe="DISABLED",$=class{},Be=class extends ${value;source;constructor(e,n){super(),this.value=e,this.source=n}},ge=class extends ${pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},me=class extends ${touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Z=class extends ${status;source;constructor(e,n){super(),this.status=e,this.source=n}};var yt=class extends ${source;constructor(e){super(),this.source=e}};function io(t){return(Le(t)?t.validators:t)||null}function oo(t){return Array.isArray(t)?cr(t):t||null}function ao(t,e){return(Le(e)?e.asyncValidators:t)||null}function so(t){return Array.isArray(t)?dr(t):t||null}function Le(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var bt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return G(this.statusReactive)}set status(e){G(()=>this.statusReactive.set(e))}_status=P(()=>this.statusReactive());statusReactive=_(void 0);get valid(){return this.status===he}get invalid(){return this.status===ke}get pending(){return this.status==J}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}errors;get pristine(){return G(this.pristineReactive)}set pristine(e){G(()=>this.pristineReactive.set(e))}_pristine=P(()=>this.pristineReactive());pristineReactive=_(!0);get dirty(){return!this.pristine}get touched(){return G(this.touchedReactive)}set touched(e){G(()=>this.touchedReactive.set(e))}_touched=P(()=>this.touchedReactive());touchedReactive=_(!1);get untouched(){return!this.touched}_events=new Tn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yn(e,this._rawAsyncValidators))}hasValidator(e){return Fe(this._rawValidators,e)}hasAsyncValidator(e){return Fe(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;e.onlySelf||this._parent?.markAsTouched(I(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new me(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),e.onlySelf||this._parent?._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new me(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;e.onlySelf||this._parent?.markAsDirty(I(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ge(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),e.onlySelf||this._parent?._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ge(!0,r))}markAsPending(e={}){this.status=J;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Z(this.status,n)),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.markAsPending(I(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pe,this.errors=null,this._forEachChild(i=>{i.disable(I(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Be(this.value,r)),this._events.next(new Z(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=he,this._forEachChild(r=>{r.enable(I(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(I(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){e.onlySelf||(this._parent?.updateValueAndValidity(e),e.skipPristineCheck||this._parent?._updatePristine({},n),this._parent?._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===he||this.status===J)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Be(this.value,n)),this._events.next(new Z(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.updateValueAndValidity(I(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:he}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=ar(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r?.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Z(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(ke)?ke:he}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,e.onlySelf||this._parent?._updatePristine(e,n),i&&this._events.next(new ge(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new me(this.touched,n)),e.onlySelf||this._parent?._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Le(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=so(this._rawAsyncValidators)}};var hr=new W("",{factory:()=>Et}),Et="always";function uo(t,e){return[...e.path,t]}function lo(t,e,n=Et){fo(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ho(t,e),go(t,e),po(t,e),co(t,e)}function Qn(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function co(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fo(t,e){let n=no(t);e.validator!==null?t.setValidators(Xn(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ro(t);e.asyncValidator!==null?t.setAsyncValidators(Xn(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Qn(e._rawValidators,i),Qn(e._rawAsyncValidators,i)}function ho(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pr(t,e)})}function po(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pr(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pr(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function go(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mo(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function _o(t){return Object.getPrototypeOf(t.constructor)===$i}function vo(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===je?n=o:_o(o)?r=o:i=o}),i||r||n||null}function Jn(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zn(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yo=class extends bt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(io(n),ao(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Zn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new yt(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Zn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bo={provide:_e,useExisting:de(()=>wt)},er=Promise.resolve(),wt=(()=>{class t extends _e{_changeDetectorRef;callSetDisabledState;control=new yo;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ve;constructor(n,r,i,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vo(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),mo(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){er.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Un(r);er.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?uo(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(S(_t,9),S(xt,10),S(Yi,10),S(rr,10),S(Hn,8),S(hr,8))};static \u0275dir=R({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fe([bo]),q,st]})}return t})();function xo(t){return typeof t=="number"?t:parseInt(t,10)}var gr=(()=>{class t{_validator=gt;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gt,this._onChange?.()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=R({type:t,features:[st]})}return t})();var Eo={provide:xt,useExisting:de(()=>Ct),multi:!0},Ct=(()=>{class t extends gr{maxlength;inputName="maxlength";normalizeInput=n=>xo(n);createValidator=n=>Qi(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ie(t)))(i||t)}})();static \u0275dir=R({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&dt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[fe([Eo]),q]})}return t})(),wo={provide:xt,useExisting:de(()=>Ot),multi:!0},Ot=(()=>{class t extends gr{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>Ji(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ie(t)))(i||t)}})();static \u0275dir=R({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&dt("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[fe([wo]),q]})}return t})();var Co=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=nt({})}return t})();var mr=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hr,useValue:n.callSetDisabledState??Et}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=nt({imports:[Co]})}return t})();var Ge=class t{STORAGE_KEY="santi_pos_catalog";_products=[{code:"100",name:"Trutro de Pollo",pricePerKg:2990,category:"POLLO"},{code:"101",name:"Alitas de Pollo",pricePerKg:3590,category:"POLLO"},{code:"102",name:"Patitas de Pollo",pricePerKg:1500,category:"POLLO"},{code:"103",name:"Trutro Cuarto",pricePerKg:2490,category:"POLLO"},{code:"104",name:"Pechuga Deshuesada",pricePerKg:4990,category:"POLLO"},{code:"105",name:"Panita de Pollo",pricePerKg:1890,category:"POLLO"},{code:"200",name:"Posta Paleta",pricePerKg:8990,category:"VACUNO"},{code:"201",name:"Punta de Ganso",pricePerKg:12990,category:"VACUNO"},{code:"202",name:"Entrecot",pricePerKg:14990,category:"VACUNO"},{code:"203",name:"Costilla Centro",pricePerKg:9990,category:"VACUNO"},{code:"300",name:"Chuleta Centro",pricePerKg:4990,category:"CERDO"},{code:"301",name:"Chuleta Vetada",pricePerKg:5490,category:"CERDO"},{code:"302",name:"Pulpa de Cerdo",pricePerKg:4690,category:"CERDO"},{code:"400",name:"Longaniza Chill\xE1n",pricePerKg:7990,category:"EMBUTIDOS"},{code:"401",name:"Longaniza Oma Wurtz",pricePerKg:8990,category:"EMBUTIDOS"},{code:"402",name:"Vienesas Pacel",pricePerKg:3200,category:"EMBUTIDOS"}];productsSignal=_(this._products);products=this.productsSignal.asReadonly();isLoading=_(!1);constructor(){this.loadFromStorage(),this.fetchProductsFromApi()}getProductByCode(e){let n=e.toString().trim();return this.productsSignal().find(r=>r.code.toString()===n)}updatePrice(e,n,r){let i=this.productsSignal(),o=i.findIndex(ce=>ce.code===e);if(o===-1)return null;let a=i[o],u=a.pricePerKg;if(u===n)return null;let v={productId:e,oldPrice:u,newPrice:n,operatorId:r,timestamp:new Date().toISOString()},E=[...i];return E[o]=I(y({},a),{pricePerKg:n}),this.productsSignal.set(E),this.saveToStorage(E),console.log("[AUDIT] Precio actualizado:",v),v}loadFromStorage(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{this.productsSignal.set(JSON.parse(e))}catch(n){console.error("Error leyendo cach\xE9 local",n)}}saveToStorage(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}fetchProductsFromApi(){this.isLoading.set(!0),setTimeout(()=>{let e=this._products;this.productsSignal.set(e),this.saveToStorage(e),this.isLoading.set(!1)},1e3)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Hi=Ui(Gi());var Od=["confirmBtn"],Sd=["paymentInput"],Dd=["codeInput"],Ad=["weightInput"],Md=["saleRow"],Vd=(t,e)=>e.id;function Id(t,e){if(t&1){let n=X();s(0,"div",43),b("click",function(){let i=g(n).$index,o=x();return m(o.activateSaleIndex(i))}),s(1,"div",44),c(2),l(),s(3,"div",45),c(4),w(5,"number"),l()()}if(t&2){let n=e.$implicit,r=e.$index,i=x();Q("border-blue-500",i.activeSaleIndex()===r)("bg-slate-800",i.activeSaleIndex()===r)("text-white",i.activeSaleIndex()===r)("border-transparent",i.activeSaleIndex()!==r)("bg-slate-900",i.activeSaleIndex()!==r)("text-slate-500",i.activeSaleIndex()!==r),f(2),h("Venta ",r+1),f(2),h(" $",D(5,14,n.total)," ")}}function Pd(t,e){if(t&1&&(s(0,"div",17)(1,"div",46),c(2),l(),s(3,"div",47),c(4),w(5,"number"),l()()),t&2){let n,r,i=x();f(2),h(" ",(n=i.foundProduct())==null?null:n.name," "),f(2),h(" $ ",D(5,2,(r=i.foundProduct())==null?null:r.pricePerKg)," / Kg ")}}function Td(t,e){t&1&&(s(0,"div",18)(1,"span"),c(2,"Esperando ingreso..."),l()())}function Rd(t,e){if(t&1){let n=X();s(0,"tr",48,2),b("keydown",function(i){let o=g(n).$index,a=x();return m(a.onRowKeydown(i,o))}),s(2,"td",49),c(3),l(),s(4,"td",50),c(5),l(),s(6,"td",51),c(7),w(8,"number"),l()()}if(t&2){let n=e.$implicit;f(3),h(" ",n.product.name," "),f(2),h(" ",n.weight,"g "),f(2),h(" $ ",D(8,3,n.total)," ")}}function kd(t,e){t&1&&(s(0,"div",39)(1,"span",52),c(2,"LISTA VAC\xCDA"),l()())}function Fd(t,e){if(t&1){let n=X();s(0,"div",40)(1,"div",53),k(2,"div",54),s(3,"h2",55),c(4,"\xBFBORRAR ITEM?"),l(),s(5,"div",56)(6,"div",57),c(7),l(),s(8,"div",58)(9,"span"),c(10),l(),s(11,"span",59),c(12),w(13,"number"),l()()(),s(14,"div",60)(15,"button",61,3),b("click",function(){g(n);let i=x();return m(i.confirmDelete())})("keydown.enter",function(){g(n);let i=x();return m(i.confirmDelete())}),s(17,"span",62),c(18,"Confirmar"),l()(),s(19,"button",63),b("click",function(){g(n);let i=x();return m(i.cancelDelete())}),s(20,"span",62),c(21,"Cancelar"),l()()()()()}if(t&2){let n=x(),r=n.sales()[n.activeSaleIndex()].items[n.itemIndexToDelete()];f(7),ht(r.product.name),f(3),h("",r.weight,"g"),f(2),h("$",D(13,3,r.total))}}function Nd(t,e){t&1&&(s(0,"span",78),c(1,"Vuelto / Cambio"),l())}function Bd(t,e){t&1&&(s(0,"span",78),c(1,"Por pagar (Tarjeta)"),l())}function jd(t,e){if(t&1){let n=X();s(0,"div",41)(1,"div",64),k(2,"div",65),s(3,"div",66)(4,"h2",67),c(5," CERRAR VENTA "),l(),s(6,"div",68)(7,"span",69),c(8,"Total a Pagar"),l(),k(9,"br"),s(10,"span",70),c(11),w(12,"number"),l()(),s(13,"div",71)(14,"label",72),c(15,"Efectivo Recibido"),l(),s(16,"div",73)(17,"span",74),c(18,"$"),l(),s(19,"input",75,4),b("input",function(){g(n);let i=Re(20),o=x();return m(o.updatePayment(i.value))})("keydown.enter",function(){g(n);let i=x();return m(i.finalizeSale())}),l()()()(),s(21,"div",76)(22,"div",77),H(23,Nd,2,0,"span",78)(24,Bd,2,0,"span",78),s(25,"span",79),c(26),w(27,"number"),l()(),s(28,"div",80)(29,"button",81),b("click",function(){g(n);let i=x();return m(i.finalizeSale())}),s(30,"span",82),c(31,"ENTER"),l(),s(32,"span",83),c(33,"Confirmar Pago"),l()(),s(34,"button",81),b("click",function(){g(n);let i=x();return m(i.finalizeSale())}),s(35,"span",84),c(36,"OK"),l(),s(37,"span",83),c(38,"Pago Mixto / Tarjeta"),l()(),s(39,"button",85),b("click",function(){g(n);let i=x();return m(i.closeCheckout())}),s(40,"span",86),c(41,"Volver atr\xE1s (+)"),l()()()()()()}if(t&2){let n=x();f(11),h(" $ ",D(12,20,n.sales()[n.activeSaleIndex()].total)," "),f(8),N("ngModel",n.paymentCashInput()||""),f(3),Q("bg-red-900/20",n.changeAmount()<0)("border-red-800",n.changeAmount()<0)("bg-emerald-900/20",n.changeAmount()>=0)("border-emerald-800",n.changeAmount()>=0),f(),U(n.paymentCashInput()>0&&n.changeAmount()>0?23:24),f(2),Q("text-yellow-400",n.changeAmount()<0)("text-emerald-400",n.changeAmount()>=0),f(),h(" $ ",D(27,22,n.tarjetaVuelto(n.changeAmount()))," "),f(3),N("disabled",n.changeAmount()<0)("hidden",n.changeAmount()<0),f(5),N("disabled",n.changeAmount()>=0)("hidden",n.changeAmount()>=0)}}function Ld(t,e){if(t&1&&(s(0,"tr")(1,"td",108)(2,"div",109),c(3),l(),s(4,"div",110),c(5),l()(),s(6,"td",111),c(7),w(8,"number"),l()()),t&2){let n=e.$implicit;f(3),h(" ",n.product.name," "),f(2),Gn(" ",n.weight/1e3," KG x $",n.product.pricePerKg,"/kg "),f(2),h(" $",D(8,4,n.total)," ")}}function Gd(t,e){if(t&1&&(s(0,"div",87)(1,"h2",88),c(2,"MI TIENDA"),l(),s(3,"p",89),c(4,"Calle Falsa 123, Valdivia"),l(),s(5,"p",90),c(6,"Tel: +569 8877 6654"),l()(),k(7,"div",91),s(8,"table",92)(9,"thead")(10,"tr",93)(11,"th",94),c(12,"PROD"),l(),s(13,"th",95),c(14,"TOTAL"),l()()(),s(15,"tbody"),Pe(16,Ld,9,6,"tr",null,ft),l()(),k(18,"div",91),s(19,"table",96)(20,"tr")(21,"td",97),c(22,"TOTAL:"),l(),s(23,"td",98),c(24),w(25,"number"),l()(),k(26,"tr",99),s(27,"tr",100)(28,"td",101),c(29,"Efectivo:"),l(),s(30,"td",102),c(31),w(32,"number"),l()(),s(33,"tr",100)(34,"td",101),c(35,"Tarjeta:"),l(),s(36,"td",102),c(37),w(38,"number"),l()(),s(39,"tr",100)(40,"td",101),c(41,"Vuelto:"),l(),s(42,"td",102),c(43),w(44,"number"),l()()(),s(45,"div",103)(46,"p",104),c(47),l(),s(48,"p",104),c(49),w(50,"date"),l(),s(51,"div",105),it(),k(52,"svg",106),l(),ot(),s(53,"p",107),c(54,"*** GRACIAS POR SU COMPRA ***"),l()()),t&2){let n=x();f(16),Te(n.lastVoucher().items),f(8),h("$",D(25,6,n.lastVoucher().totalToPay)),f(7),h("$",D(32,8,n.lastVoucher().paymentCash)),f(6),h("$",D(38,10,n.lastVoucher().paymentCard)),f(6),h("$",D(44,12,n.lastVoucher().change)),f(4),h("ID: ",n.lastVoucher().id),f(2),ht(qn(50,14,n.lastVoucher().date,"dd/MM/yyyy HH:mm"))}}var qi=class t{productService=rt(Ge);confirmBtn;paymentInput;codeInput;weightInput;saleRows;constructor(){at(()=>{this.itemIndexToDelete()!==null&&setTimeout(()=>this.confirmBtn?.nativeElement?.focus(),50)}),at(()=>{this.showCheckout()&&setTimeout(()=>this.paymentInput?.nativeElement?.focus(),50)})}activeSaleIndex=_(0);sales=_([{id:1,items:[],total:0},{id:2,items:[],total:0}]);currentCode=_(0);currentWeight=_(0);foundProduct=_(null);itemIndexToDelete=_(null);showCheckout=_(!1);paymentCashInput=_(0);lastVoucher=_(null);roundedTotal=P(()=>{let e=this.sales()[this.activeSaleIndex()].total;return Math.round(e/10)*10});isFullCashPayment=P(()=>this.paymentCashInput()>=this.roundedTotal());changeAmount=P(()=>{let e=this.sales()[this.activeSaleIndex()].total,n=this.paymentCashInput()-this.roundedTotal();return this.paymentCashInput()>0?n>=0?n:this.paymentCashInput()-e:e});lastKey="";lastKeyTime=0;handleGlobalKeys(e){let n=e.key;if(n==="+"){if(e.preventDefault(),this.itemIndexToDelete()!==null){this.cancelDelete();return}if(this.showCheckout()){this.closeCheckout();return}this.focusCodeInput();return}if(n==="/"||n==="Divide"){this.sales()[this.activeSaleIndex()].items.length>0&&!this.showCheckout()&&(e.preventDefault(),this.openCheckout());return}if(n==="."){if(this.itemIndexToDelete()!==null||this.showCheckout())return;e.preventDefault(),this.cycleFocusUp();return}if(n==="*"){e.preventDefault(),this.switchSaleTab();return}}openCheckout(){this.paymentCashInput.set(0),this.showCheckout.set(!0)}rawTotal=P(()=>this.sales()[this.activeSaleIndex()].total);cardAmountToPay=P(()=>{let e=this.paymentCashInput(),n=this.rawTotal();return e>=this.roundedTotal()?0:Math.max(0,n-e)});closeCheckout(){this.showCheckout.set(!1),this.focusCodeInput()}updatePayment(e){let n=e.replace(/[^0-9]/g,"");n[0]==="0"&&(n=n.slice(1)),n.length>6&&(n=n.slice(0,6));let r=n?parseInt(n,10):0;this.paymentCashInput.set(r),this.paymentInput&&this.paymentInput.nativeElement.value!==n&&(this.paymentInput.nativeElement.value=n)}activateSaleIndex(e){[0,1].includes(e)&&this.activeSaleIndex.set(e)}finalizeSale(){let e=this.rawTotal(),n=this.paymentCashInput(),r=0,i=0,o=0,a=0;this.isFullCashPayment()?(r=this.roundedTotal(),i=r-e,o=0,a=n-r):(r=e,i=0,o=e-n,a=0);let u=[...this.sales()[this.activeSaleIndex()].items],v=Date.now(),E={items:u,subtotal:e,roundingDiff:i,totalToPay:r,paymentCash:n,paymentCard:o,change:a,date:new Date,id:v};this.lastVoucher.set(E),this.cleanCurrentSaleAndClose(),setTimeout(()=>{try{(0,Hi.default)("#barcode",E.id.toString(),{format:"CODE128",lineColor:"#000000",width:2,height:40,displayValue:!0,fontSize:10,margin:0})}catch(ce){console.error("Error generando c\xF3digo de barras",ce)}window.print()},100),setTimeout(()=>{window.print()},100)}cleanCurrentSaleAndClose(){this.sales.update(e=>{let n=[...e];return n[this.activeSaleIndex()]={id:n[this.activeSaleIndex()].id,items:[],total:0},n}),this.showCheckout.set(!1),this.focusCodeInput()}sanitizeInput(e,n,r){if(!n){e==="code"?this.currentCode.set(0):this.currentWeight.set(0);return}let i=n.toString().replace(/\D/g,"");i=i.replace(/^0+/,""),i.length>r&&(i=i.slice(0,r));let o=i?parseInt(i,10):0;e==="code"?(this.currentCode.set(o),this.codeInput&&this.codeInput.nativeElement.value!==i&&(this.codeInput.nativeElement.value=i)):(this.currentWeight.set(o),this.weightInput&&this.weightInput.nativeElement.value!==i&&(this.weightInput.nativeElement.value=i))}onCodeEnter(){let e=this.currentCode();if(!e)return;let n=this.productService.getProductByCode(e);n?(this.foundProduct.set(n),setTimeout(()=>this.weightInput.nativeElement.focus(),0)):this.currentCode.set(0)}onWeightEnter(){let e=this.foundProduct(),n=this.currentWeight();e&&n&&n>0&&(this.addItemToCurrentSale(e,n),this.resetForm(),this.focusCodeInput())}tarjetaVuelto(e){return Math.abs(e)}addItemToCurrentSale(e,n){let r=Math.round(n/1e3*e.pricePerKg),i={product:e,weight:n,total:r};this.sales.update(o=>{let a=y({},o[this.activeSaleIndex()]);a.items=[...a.items,i],a.total+=r;let u=[...o];return u[this.activeSaleIndex()]=a,u})}onRowKeydown(e,n){if(e.key==="Enter"){if(e.preventDefault(),this.itemIndexToDelete()!=null)return this.confirmDelete();this.itemIndexToDelete.set(n)}}confirmDelete(){let e=this.itemIndexToDelete();e!==null&&(this.sales.update(n=>{let r=y({},n[this.activeSaleIndex()]);r.items.splice(e,1),r.total=r.items.reduce((o,a)=>o+a.total,0);let i=[...n];return i[this.activeSaleIndex()]=r,i}),this.cancelDelete())}cancelDelete(){this.itemIndexToDelete.set(null),this.focusCodeInput()}switchSaleTab(){let e=this.activeSaleIndex()===0?1:0;this.activeSaleIndex.set(e),this.resetForm(),this.focusCodeInput()}resetForm(){this.currentCode.set(0),this.currentWeight.set(0),this.foundProduct.set(null)}focusCodeInput(){setTimeout(()=>{this.codeInput&&this.codeInput.nativeElement.focus()},50)}cycleFocusUp(){let e=this.saleRows.toArray(),n=e.length;if(n===0)return;let r=document.activeElement,i=e.findIndex(a=>a.nativeElement===r),o;i===-1?o=n-1:(o=i-1,o<0&&(o=n-1)),e[o].nativeElement.focus()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Bn({type:t,selectors:[["app-pos"]],viewQuery:function(n,r){if(n&1&&Ln(Od,5)(Sd,5)(Dd,5)(Ad,5)(Md,5),n&2){let i;K(i=Y())&&(r.confirmBtn=i.first),K(i=Y())&&(r.paymentInput=i.first),K(i=Y())&&(r.codeInput=i.first),K(i=Y())&&(r.weightInput=i.first),K(i=Y())&&(r.saleRows=i)}},hostBindings:function(n,r){n&1&&b("keydown",function(o){return r.handleGlobalKeys(o)},Nn)},decls:58,vars:14,consts:[["codeInput",""],["weightInput",""],["saleRow",""],["confirmBtn",""],["paymentInput",""],[1,"h-[100dvh]","w-full","bg-slate-950","flex","flex-col","landscape:flex-row","relative","overflow-hidden","font-sans","text-slate-200","no-print"],[1,"flex","flex-col","shrink-0","landscape:w-[40%]","h-full","landscape:border-r","landscape:border-slate-800","landscape:bg-slate-900","z-30","shadow-2xl"],[1,"flex","gap-1","p-1","shrink-0","bg-slate-950","border-b","border-slate-800"],[1,"flex-1","p-2","rounded-t-lg","transition-all","border-t-2","cursor-pointer","relative","overflow-hidden","group","text-center",3,"border-blue-500","bg-slate-800","text-white","border-transparent","bg-slate-900","text-slate-500"],[1,"shrink-0","p-2","landscape:p-3","bg-slate-900","border-b","border-slate-700/50","shadow-lg","z-20"],[1,"flex","gap-3"],[1,"flex-1","bg-slate-950","p-2","rounded","border","border-slate-700","relative"],[1,"absolute","top-1","left-2","text-[10px]","text-blue-400","font-bold","uppercase"],["type","text","inputmode","numeric","pattern","[0-9]*","maxlength","3","placeholder","+","autofocus","",1,"w-full","bg-transparent","text-center","text-3xl","font-mono","text-white","outline-none","pt-3","pb-1","border-b","border-slate-800","focus:border-blue-500","transition-colors","placeholder-slate-800",3,"input","keydown.enter","ngModel"],[1,"absolute","top-1","left-2","text-[10px]","text-green-400","font-bold","uppercase"],["type","text","inputmode","numeric","pattern","[0-9]*","maxlength","5","placeholder","0",1,"w-full","bg-transparent","text-center","text-3xl","font-mono","text-white","outline-none","pt-3","pb-1","border-b","border-slate-800","focus:border-green-500","transition-colors","placeholder-slate-800","disabled:opacity-30",3,"input","keydown.enter","ngModel","disabled"],[1,"flex-1","min-h-0","flex","flex-col","justify-center","items-center","text-center","p-2","overflow-hidden","bg-gradient-to-b","from-slate-900","to-slate-950","relative"],[1,"w-full","px-4"],[1,"text-slate-700","text-lg","italic","flex","flex-col","items-center","animate-pulse"],[1,"shrink-0","bg-slate-950","border-t","border-slate-800","p-3","landscape:p-4","flex","flex-col","gap-3","z-30","shadow-[0_-5px_20px_rgba(0,0,0,0.5)]"],[1,"flex","justify-between","items-end","bg-slate-900/50","p-2","rounded-lg","border","border-slate-800"],[1,"text-left"],[1,"text-[10px]","text-slate-500","uppercase","font-bold"],[1,"text-4xl","font-black","text-white","font-mono","leading-none","tracking-tight"],[1,"text-right","pb-1"],[1,"text-xs","text-slate-400","font-mono"],[1,"grid","grid-cols-3","gap-2","h-14","landscape:h-16"],[1,"col-span-1","bg-slate-800","hover:bg-red-900/50","hover:text-red-200","border","border-slate-700","text-slate-400","rounded-lg","font-bold","text-xs","uppercase","transition-all","disabled:opacity-50",3,"click","disabled"],[1,"col-span-2","bg-emerald-600","hover:bg-emerald-500","text-white","rounded-lg","font-bold","text-xl","shadow-lg","shadow-emerald-900/40","active:translate-y-0.5","transition-all","flex","items-center","justify-center","gap-2","disabled:bg-slate-800","disabled:text-slate-600","disabled:shadow-none",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","opacity-60"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 5l7 7m0 0l-7 7m7-7H3"],[1,"flex-1","bg-slate-900","relative","flex","flex-col","overflow-hidden","landscape:w-[60%]","border-l","border-slate-800"],[1,"flex-1","overflow-y-auto","scroll-smooth","pb-20","landscape:pb-4"],[1,"w-full","text-left","border-collapse"],[1,"bg-slate-950","text-slate-400","font-bold","uppercase","text-[10px]","landscape:text-xs","sticky","top-0","z-20","shadow-lg","border-b","border-slate-800"],[1,"p-2","md:p-3","landscape:p-4","w-1/2","tracking-wider"],[1,"p-2","md:p-3","landscape:p-4","text-right","tracking-wider"],[1,"divide-y","divide-slate-800/50","text-base","md:text-lg"],["tabindex","0",1,"cursor-pointer","hover:bg-slate-800","transition-colors","focus:outline-none","group","active:bg-slate-700"],[1,"h-64","flex","flex-col","items-center","justify-center","text-slate-700","pointer-events-none","select-none","landscape:scale-125"],[1,"fixed","inset-0","z-50","bg-black/80","backdrop-blur-sm","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","z-50","bg-black/90","backdrop-blur-md","flex","items-center","justify-center","p-4"],["id","printableArea",2,"font-family","'Courier New', Courier, monospace","color","#000000","width","100%","background","white"],[1,"flex-1","p-2","rounded-t-lg","transition-all","border-t-2","cursor-pointer","relative","overflow-hidden","group","text-center",3,"click"],[1,"text-[10px]","font-bold","uppercase","tracking-widest","opacity-70"],[1,"text-sm","font-mono","font-bold"],[1,"text-blue-400","font-bold","text-xl","landscape:text-3xl","leading-tight","truncate","drop-shadow-md"],[1,"text-slate-500","text-sm","landscape:text-lg","font-mono","mt-1","border-t","border-slate-800","inline-block","px-4","pt-1"],["tabindex","0",1,"cursor-pointer","hover:bg-slate-800","transition-colors","focus:outline-none","group","active:bg-slate-700",3,"keydown"],[1,"p-2","landscape:p-4","pl-3","font-medium","text-slate-300","group-hover:text-white","transition-colors","landscape:text-2xl","text-sm","leading-tight"],[1,"p-2","landscape:p-4","text-right","font-mono","text-slate-500","text-sm","landscape:text-xl"],[1,"p-2","landscape:p-4","pr-3","text-right","font-bold","font-mono","text-emerald-400","landscape:text-3xl","text-base"],[1,"font-mono","text-sm","tracking-widest","opacity-50"],[1,"bg-slate-900","p-6","rounded-xl","shadow-2xl","w-full","max-w-sm","text-center","border","border-slate-700","relative","overflow-hidden"],[1,"absolute","top-0","left-0","right-0","h-1","bg-red-600","shadow-[0_0_10px_rgba(220,38,38,0.8)]"],[1,"text-2xl","font-black","text-white","mb-1","tracking-tight","mt-2"],[1,"bg-red-900/20","p-4","rounded-lg","my-4","border","border-red-900/50"],[1,"font-bold","text-red-400","text-lg"],[1,"flex","justify-between","mt-2","px-2","text-red-300/70","font-mono","text-sm"],[1,"font-bold","text-red-400"],[1,"grid","grid-cols-2","gap-3"],[1,"bg-red-600","hover:bg-red-500","text-white","py-3","rounded-lg","shadow-lg",3,"click","keydown.enter"],[1,"font-bold","uppercase","text-sm"],[1,"bg-slate-800","hover:bg-slate-700","text-slate-300","py-3","rounded-lg","border","border-slate-700",3,"click"],[1,"bg-slate-900","rounded-2xl","shadow-2xl","w-full","max-w-4xl","border","border-slate-700","relative","overflow-hidden","flex","flex-col","landscape:flex-row","landscape:h-[80vh]","md:h-auto"],[1,"absolute","top-0","left-0","right-0","h-1","bg-emerald-500","shadow-[0_0_20px_rgba(16,185,129,0.6)]","z-10"],[1,"flex-1","p-6","md:p-8","flex","flex-col","justify-center","border-b","landscape:border-b-0","landscape:border-r","border-slate-700"],[1,"text-2xl","font-black","text-white","mb-6","text-center","tracking-tight","landscape:hidden"],[1,"flex-row","justify-between","items-end","mb-6","px-2"],[1,"text-slate-400","font-bold","uppercase","text-sm","landscape:text-lg"],[1,"text-4xl","landscape:text-6xl","font-mono","font-bold","text-white","tracking-tighter"],[1,"mb-2"],[1,"block","text-emerald-400","text-xs","font-bold","uppercase","tracking-widest","mb-2","landscape:text-sm"],[1,"relative"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-slate-500","text-2xl","font-mono"],["type","text","inputmode","numeric","pattern","[0-9]*","maxlength","7","placeholder","0","autofocus","",1,"w-full","bg-slate-950","border-2","border-slate-700","focus:border-emerald-500","rounded-xl","py-4","pl-10","pr-4","text-4xl","landscape:text-7xl","landscape:h-full","text-white","outline-none","transition-all","shadow-inner","[appearance:textfield]",3,"input","keydown.enter","ngModel"],[1,"flex-1","p-6","md:p-8","flex","flex-col","justify-center","bg-slate-800/30"],[1,"rounded-xl","p-4","mb-6","border","flex","flex-col","items-center","justify-center","transition-colors","min-h-[5rem]","landscape:min-h-[8rem]"],[1,"text-slate-400","font-bold","uppercase","text-xs","landscape:text-sm","mb-1"],[1,"text-4xl","landscape:text-6xl","font-mono","font-bold"],[1,"flex","flex-col","gap-3"],[1,"w-full","bg-emerald-600","hover:bg-emerald-500","text-white","py-4","rounded-xl","shadow-lg","flex","items-center","justify-center","gap-3",3,"click","disabled","hidden"],[1,"font-black","text-xl"],[1,"opacity-80","uppercase","font-bold"],[1,"font-black","text-xs","bg-black/20","w-8","h-8","flex","items-center","justify-center","rounded-full"],[1,"w-full","hover:bg-slate-800","text-slate-400","py-3","rounded-xl","border-2","border-slate-700",3,"click"],[1,"text-xs","uppercase","font-bold"],[2,"text-align","center","margin-bottom","10px"],[2,"margin","0","font-size","20px","font-weight","900","color","#000000"],[2,"margin","2px 0","font-size","12px","color","#000000","font-weight","bold"],[2,"margin","2px 0","font-size","12px","color","#000000"],[2,"border-bottom","2px dashed #000000","margin","10px 0"],[2,"width","100%","font-size","12px","border-collapse","collapse","color","#000000"],[2,"text-align","left"],[2,"padding-bottom","5px","font-weight","900","border-bottom","1px solid #000000"],[2,"text-align","right","padding-bottom","5px","font-weight","900","border-bottom","1px solid #000000"],[2,"width","100%","font-size","14px","font-weight","bold","color","#000000"],[2,"font-weight","900","font-size","16px"],[2,"text-align","right","font-weight","900","font-size","16px"],[2,"height","5px"],[2,"font-size","12px"],[2,"font-weight","normal"],[2,"text-align","right"],[2,"margin-top","20px","text-align","center","font-size","10px","color","#000000"],[2,"font-weight","bold"],[2,"margin","15px 0","display","flex","justify-content","center"],["id","barcode",2,"width","200px","height","50px"],[2,"margin-top","10px","font-weight","900","font-size","12px"],[2,"padding","4px 0","border-bottom","1px dotted #cccccc"],[2,"font-size","11px","font-weight","800","color","#000000","text-transform","uppercase"],[2,"font-size","10px","color","#000000","margin-top","1px"],[2,"text-align","right","vertical-align","top","padding","4px 0","font-weight","bold","font-size","12px","border-bottom","1px dotted #cccccc"]],template:function(n,r){if(n&1){let i=X();s(0,"div",5)(1,"div",6)(2,"div",7),Pe(3,Id,6,16,"div",8,Vd),l(),s(5,"div",9)(6,"div",10)(7,"div",11)(8,"label",12),c(9,"C\xF3digo"),l(),s(10,"input",13,0),b("input",function(){g(i);let a=Re(11);return m(r.sanitizeInput("code",a.value,3))})("keydown.enter",function(){return g(i),m(r.onCodeEnter())}),l()(),s(12,"div",11)(13,"label",14),c(14,"Peso"),l(),s(15,"input",15,1),b("input",function(){g(i);let a=Re(16);return m(r.sanitizeInput("weight",a.value,5))})("keydown.enter",function(){return g(i),m(r.onWeightEnter())}),l()()()(),s(17,"div",16),H(18,Pd,6,4,"div",17)(19,Td,3,0,"div",18),l(),s(20,"div",19)(21,"div",20)(22,"div",21)(23,"div",22),c(24,"Total a Pagar"),l(),s(25,"div",23),c(26),w(27,"number"),l()(),s(28,"div",24)(29,"div",25),c(30),l()()(),s(31,"div",26)(32,"button",27),b("click",function(){return g(i),m(r.cleanCurrentSaleAndClose())}),c(33," ANULAR "),l(),s(34,"button",28),b("click",function(){return g(i),m(r.openCheckout())}),s(35,"span"),c(36,"COBRAR"),l(),it(),s(37,"svg",29),k(38,"path",30),l()()()()(),ot(),s(39,"div",31)(40,"div",32)(41,"table",33)(42,"thead",34)(43,"tr")(44,"th",35),c(45,"Producto"),l(),s(46,"th",36),c(47,"Peso"),l(),s(48,"th",36),c(49,"$$"),l()()(),s(50,"tbody",37),Pe(51,Rd,9,5,"tr",38,ft),l()(),H(53,kd,3,0,"div",39),l()(),H(54,Fd,22,5,"div",40),H(55,jd,42,24,"div",41),l(),s(56,"div",42),H(57,Gd,55,17),l()}n&2&&(f(3),Te(r.sales()),f(7),N("ngModel",r.currentCode()||""),f(5),N("ngModel",r.currentWeight()||"")("disabled",!r.foundProduct()),f(3),U(r.foundProduct()?18:19),f(8),h(" $",D(27,12,r.sales()[r.activeSaleIndex()].total)," "),f(4),h("",r.sales()[r.activeSaleIndex()].items.length," items"),f(2),N("disabled",r.sales()[r.activeSaleIndex()].items.length===0),f(2),N("disabled",r.sales()[r.activeSaleIndex()].items.length===0),f(17),Te(r.sales()[r.activeSaleIndex()].items),f(2),U(r.sales()[r.activeSaleIndex()].items.length===0?53:-1),f(),U(r.itemIndexToDelete()!==null?54:-1),f(),U(r.showCheckout()?55:-1),f(2),U(r.lastVoucher()?57:-1))},dependencies:[Wn,mr,je,fr,Ct,Ot,wt,zn,$n],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#334155;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#475569}tr[_ngcontent-%COMP%]:focus{outline:2px solid #ef4444;background-color:#ef444426;position:relative;z-index:10;color:#fff}@media print{@page{margin:0;size:58mm auto}*[_ngcontent-%COMP%]{color:#000!important;text-shadow:none!important;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden;height:0;overflow:hidden}#printableArea[_ngcontent-%COMP%], #printableArea[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible;height:auto;filter:contrast(150%)}#printableArea[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:58mm;padding:2mm;font-family:Courier New,Courier,monospace;font-size:12px;color:#000;background:#fff}.no-print[_ngcontent-%COMP%]{display:none!important}}"]})};export{qi as PosComponent};
